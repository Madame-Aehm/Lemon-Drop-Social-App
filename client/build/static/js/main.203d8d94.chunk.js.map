{"version":3,"sources":["utils/getServerURL.js","utils/getToken.js","context/AuthContext.js","utils/JSFunctions.js","components/NavBar.js","components/ProtectedRoute.js","components/PageLoader.js","utils/imageMangement.js","context/RecipesContext.js","components/PlaceholderCard.js","components/SortSelector.js","components/SearchForm.js","utils/favouritesManagement.js","components/FavouriteButton.js","components/DeleteButton.js","components/DrinkCard.js","views/Home.js","views/LaunchPage.js","components/PasswordInput.js","views/Login.js","components/UserPlainView.js","components/MyAccount.js","components/UserRecipes.js","views/MyProfile.js","views/SignUp.js","components/RecipeForm.js","views/NewRecipe.js","hooks/useRecipeFetch.js","components/SeeUserLink.js","components/CommentCard.js","views/ViewRecipe.js","hooks/useSingleUserFetch.js","views/ViewUser.js","views/UpdateRecipe.js","components/ReturnToTop.js","App.js","index.js"],"names":["baseURL","process","getToken","token","localStorage","getItem","AuthContext","createContext","AuthContextProvider","props","redirect","useNavigate","_useState","useState","_useState2","Object","slicedToArray","user","setUser","checkForUser","console","log","getUser","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","myHeaders","reqOptions","response","result","wrap","_context","prev","next","Headers","append","method","headers","fetch","sent","json","t0","stop","_x","apply","this","arguments","login","_ref2","_callee2","inputInfo","userLogin","_context2","JSON","stringify","body","error","alert","abrupt","setItem","username","replace","_x2","useEffect","react_default","a","createElement","Provider","value","logout","removeItem","children","passwordValidation","string","length","match","displayNicely","final","trimmed","trim","i","charAt","toUpperCase","formatImageThumb","imageURL","sliceImageURL","insert","uploadIndex","indexOf","slice","checkIf","ID","array","toString","resetSubArray","comparisonId","index","findIndex","e","splice","NavBar","_useContext","useContext","mount","setMount","_useState3","_useState4","expanded","setExpanded","Fade","in","className","href","src","alt","title","Navbar","bg","expand","Toggle","onClick","aria-controls","Collapse","id","Nav","as","Fragment","Item","react_router_dom_dist","to","profile_picture","url","NavLink","ProtectedRoute","Button","size","variant","PageLoader","style","position","top","left","width","height","backgroundColor","zIndex","Spinner","animation","role","deleteImage","imageMangement_regeneratorRuntime","image","imageData","uploadImage","file","formData","FormData","_x3","recipeImageUpload","_ref3","_callee3","selectedFile","_context3","public_id","_x4","recipeUpdateImage","_ref4","_callee4","original","_context4","_x5","_x6","signUpImageUpload","_ref5","_callee5","_context5","_x7","RecipesContext","RecipesContextProvider","recipesList","setRecipesList","loading","setLoading","_useState5","_useState6","setError","_useState7","_useState8","sort","setSort","fetchAllRecipes","RecipesContext_regeneratorRuntime","data","deleteRecipe","toSubmit","_id","handleDeleteRecipe","drink","deleted","window","confirm","filter","posted_recipes","msg","t1","PlaceholderCard","Card","maxWidth","Img","Body","Placeholder","Title","xs","Text","SortSelector","searchResult","setSearchResult","Form","Select","defaultValue","onChange","target","b","Date","createdAt","favourited_by","updatedAt","methodA","toLowerCase","methodB","SearchForm","searchInput","setSearchInput","submitSearch","clearSearch","handleSearchInputChanges","objectSpread","defineProperty","name","onSubmit","Label","Control","type","ingredient","addFavourite","favouritesManagement_regeneratorRuntime","recipe","removeFavourite","FavouriteButton","_useContext2","poster","setPoster","alreadyFavourite","setAlreadyFavourite","favCount","setFavCount","handleAddFav","FavouriteButton_regeneratorRuntime","thisRecipeIndex","item","push","favourite_recipes","handleRemoveFav","heart_fill","fontSize","color","heart","DeleteButton","toDelete","redirectOnDelete","redirectHome","DeleteButton_regeneratorRuntime","handleClick","components_PageLoader","trash","DrinkCard","formattedPicture","floats","setFloats","ImgOverlay","posted_by","components_FavouriteButton","state","marginRight","pencil","components_DeleteButton","Header","Subtitle","formatDistanceToNow","addSuffix","ingredients","map","arr","key","Home","show","setShow","handleClose","preventDefault","filterResult","includes","some","components_DrinkCard","react","fallback","components_PlaceholderCard","components_SortSelector","arrow_bar_right","components_SearchForm","Offcanvas","placement","onHide","closeButton","LaunchPage","navigate","test","document","getElementById","setTimeout","classList","add","PasswordInput","handleChanges","PWinvalid","styling","textStyling","placeholder","passwordVisibility","setPasswordVisibility","showOrHide","setShowOrHide","InputGroup","hasValidation","isInvalid","autoComplete","required","Feedback","muted","Login","setInputInfo","setPWinvalid","handleSubmit","Login_regeneratorRuntime","password","stopPropagation","FloatingLabel","controlId","label","components_PasswordInput","marginTop","UserPlainView","userToView","display","date","toDateString","substring","border","borderRadius","concat","email","description","MyAccount","editMode","setEditMode","showModal","setShowModal","inputs","setInputs","hideOnEdit","setHideOnEdit","_useState9","_useState10","setUsername","_useState11","_useState12","setEmail","_useState13","_useState14","setSelectedFile","_useState15","_useState16","newPassword","setNewPassword","_useState17","_useState18","oldPassword","setOldPassword","_useState19","_useState20","newPWinvalid","setNewPWinvalid","_useState21","_useState22","oldPWinvalid","setOldPWinvalid","_useState23","_useState24","desc","setDesc","handleEditSwitch","handleUsernameClick","MyAccount_regeneratorRuntime","updateUser","handleEmailClick","handleFileClick","querySelector","handleOldPWClick","verifyAndUpdatePassword","_ref6","reqBody","old_password","new_password","handleDescClick","_ref7","_callee6","message","_context6","_ref8","_callee7","toUpdate","_context7","inputDisplay","flexDirection","alignItems","plainDisplay","padding","paddingBottom","pencil_square","components_UserPlainView","Group","files","verticalAlign","rows","colSpan","textAlign","Modal","Footer","UserRecipes","userList","setUserList","MyProfile","Tabs","defaultActiveKey","justify","Tab","eventKey","components_MyAccount","components_UserRecipes","SignUp","signUp","SignUp_regeneratorRuntime","newUser","autoCorrect","margin","RecipeForm","setName","setMethod","ingredientsList","setIngredientsList","stepsList","setStepsList","handleIngredientChange","_e$target","list","toConsumableArray","spellCheck","marginBottom","input","quantity","measure","alignSelf","handleIngredientRemove","handleStepsChange","handleStepsRemove","NewRecipe","NewRecipe_regeneratorRuntime","recipeObject","instructions","reset","background","components_RecipeForm","useRecipeFetch","setRecipe","comments","setComments","getRecipe","useRecipeFetch_regeneratorRuntime","SeeUserLink","textDecoration","CommentCard","comment","deleteComment","CommentCard_regeneratorRuntime","recipePoster","justifyContent","components_SeeUserLink","ViewRecipe","useParams","_useRecipeFetch","commentText","setCommentText","handleSubmitComment","ViewRecipe_regeneratorRuntime","newComment","includeCount","step","components_CommentCard","disabled","useSingleUserFetch","setUserToView","fetchById","useSingleUserFetch_regeneratorRuntime","ViewUser","_useSingleUserFetch","UpdateRecipe","useLocation","UpdateRecipe_regeneratorRuntime","updateList","ReturnToTop","onscroll","button","scrollTop","documentElement","scrollFunction","arrow_up","App","components_NavBar","components_ReturnToTop","dist","path","element","views_LaunchPage","views_Home","views_Login","views_SignUp","components_ProtectedRoute","views_MyProfile","views_NewRecipe","views_UpdateRecipe","views_ViewRecipe","views_ViewUser","ReactDOM","createRoot","render","StrictMode","AuthContext_AuthContextProvider","RecipesContext_RecipesContextProvider","src_App"],"mappings":"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","file":"static/js/main.203d8d94.chunk.js","sourcesContent":["export const baseURL = process.env.NODE_ENV === 'development' ? 'http://localhost:5000' : process.env.REACT_APP_BACKENDURL","const getToken = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    return token;\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default getToken","import React, { createContext, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { baseURL } from '../utils/getServerURL.js';\r\nimport getToken from '../utils/getToken.js';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const redirect = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  \r\n  const checkForUser = () => {\r\n    const token = getToken();\r\n    if (token) {\r\n      console.log(\"User logged in\");\r\n      getUser(token);\r\n    } else {\r\n      console.log(\"User NOT logged in\");\r\n      setUser(null);\r\n    }\r\n  }\r\n\r\n  const getUser = async (token) => {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    const reqOptions = {\r\n      method: \"GET\",\r\n      headers: myHeaders\r\n    };\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/users/my-profile\", reqOptions);\r\n      const result = await response.json();\r\n      setUser(result);\r\n    } catch(error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const login = async (inputInfo) => {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    const userLogin = JSON.stringify(inputInfo);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: userLogin,\r\n    };\r\n    try {\r\n      const response = await fetch(\r\n        baseURL + \"/api/users/login\",\r\n        reqOptions\r\n      );\r\n      const result = await response.json();\r\n      if (result.error) {\r\n        console.log(result);\r\n        alert(\"Login error: \" + result.error);\r\n        return\r\n      }\r\n      if (result.token) {\r\n        localStorage.setItem(\"token\", result.token);\r\n        setUser(result.user);\r\n        alert(result.user.username + \" has successfully logged in!\");\r\n        redirect(\"/home\", {replace: true});\r\n      }\r\n    } catch (error) {\r\n      alert(\"Login error: \", error)\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    checkForUser();\r\n    alert(user.username + \" has been logged out.\")\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkForUser();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser, checkForUser, login, logout }}>\r\n      { props.children }\r\n    </AuthContext.Provider>\r\n  )\r\n}","\r\nfunction passwordValidation (string) {\r\n    const numbers = /[0-9]/g;\r\n    const lowerCase = /[a-z]/g;\r\n    const upperCase = /[A-Z]/g;\r\n    if (string.length > 5 && string.match(numbers) && string.match(lowerCase) && string.match(upperCase)) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n}\r\n\r\nfunction emailValidation (string) {\r\n  if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(.\\w{2,3})+$/.test(string)) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nfunction displayNicely(string) {\r\n  let final = \"\";\r\n  let trimmed = string.trim();\r\n  for (let i = 0; i < trimmed.length; i++) {\r\n      if (i === 0 || trimmed.charAt(i - 1) === \" \") {\r\n          final += trimmed.charAt(i).toUpperCase();\r\n      } else {\r\n          final += trimmed.charAt(i);\r\n      }\r\n  } return final;\r\n}\r\n\r\nfunction formatImage500px (imageURL) {\r\n  const result = sliceImageURL(imageURL, \"w_500,h_500,c_fill/\");\r\n  return result\r\n}\r\n\r\nfunction formatProfileImage500px (imageURL) {\r\n  const result = sliceImageURL(imageURL, \"w_500,h_500,c_fill,g_faces,r_max/\");\r\n  return result\r\n}\r\n\r\nfunction formatImageThumb (imageURL) {\r\n  const result = sliceImageURL(imageURL, \"c_thumb,w_30,h_30,c_fill,g_faces,r_max/\");\r\n  return result\r\n}\r\n\r\nfunction sliceImageURL (imageURL, insert) {\r\n  const uploadIndex = imageURL.indexOf(\"upload/\") + 7;\r\n  const result = imageURL.slice(0, uploadIndex) + insert + imageURL.slice(uploadIndex);\r\n  return result\r\n}\r\n\r\nfunction checkIf (ID, array) {\r\n  let result = false;\r\n  for (let i = 0; i < array.length; i++) {\r\n    if (array[i].toString() === ID) {\r\n      result = true;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction resetSubArray(array, comparisonId) {\r\n  const index = array.findIndex( e => e === comparisonId );\r\n  array.splice(index, 1);\r\n  return array\r\n}\r\n\r\nexport { passwordValidation, emailValidation, displayNicely, checkIf, resetSubArray,\r\n   formatImage500px, formatImageThumb, formatProfileImage500px }","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport '../css/launch&nav.css';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { formatImageThumb } from '../utils/JSFunctions';\r\nimport Fade from 'react-bootstrap/Fade';\r\n\r\nfunction NavBar() {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const [mount, setMount] = useState(false);\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  function handleLogout () {\r\n    logout();\r\n    setExpanded(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n      setMount(true);\r\n  }, [])\r\n  \r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <header className='header-container'>\r\n        <a href='/'>\r\n          <img src=\"https://res.cloudinary.com/cocktail-recipes/image/upload/v1666457159/assets/lemon_wnjxh9.png\" \r\n            alt='Lemon Drop'\r\n            title='Lemon Drop'\r\n            className='header-image'/>\r\n        </a>\r\n        <h4 className='header-title'>lemon drop recipes</h4>\r\n        <Navbar expanded={expanded} bg=\"white\" expand=\"sm\" className='nav-container justify-content-center'>\r\n          <Navbar.Toggle onClick={() => setExpanded(!expanded)} aria-controls=\"basic-navbar-nav\"/>\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className='mx-auto align-items-sm-baseline gap-3' as=\"ul\">\r\n              {!user && \r\n                <>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/home\" className=\"nav-link\">Home</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/login\" className=\"nav-link\">Login</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/sign-up\" className=\"nav-link\">Sign up</NavLink>\r\n                  </Nav.Item>\r\n                </>\r\n              }\r\n              {user && \r\n                <>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/my-profile\" className=\"nav-link\">\r\n                      <img src={formatImageThumb(user.profile_picture.url)} alt={\"My profile\"} className=\"nav-thumb\" />\r\n                      Profile\r\n                    </NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} as={NavLink} to=\"/home\" className=\"nav-link\">Home</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/new-recipe\" className=\"nav-link\">Submit</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <Link onClick={handleLogout} className=\"nav-link\">Logout</Link>\r\n                  </Nav.Item>\r\n                </>\r\n              }\r\n            </Nav>\r\n            \r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n\r\n\r\n\r\n      </header>\r\n    </Fade>\r\n\r\n  )\r\n}\r\n\r\nexport default NavBar","import React, { useContext } from 'react'\r\nimport Button from 'react-bootstrap/esm/Button.js';\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ children }) {\r\n  const { user } = useContext(AuthContext);\r\n  const redirect = useNavigate();\r\n\r\n  const handleClick = () => {\r\n    redirect(\"/login\", {replace: true});\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user ? children : \r\n        <div className='simple-display'>\r\n          <p className='text-center'>Access to this page is restricted to logged-in users.</p>\r\n          <Button size=\"lg\" variant=\"success\" onClick={handleClick}>Login?</Button>\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nfunction PageLoader() {\r\n  const setPage = {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"rgba(255,225,225,0.6)\",\r\n    zIndex: 2\r\n  }\r\n  \r\n  const container = {\r\n    position: \"fixed\",\r\n    left: \"50%\",\r\n    top: \"50%\"\r\n  }\r\n  return (\r\n    <div style={setPage}>\r\n      <div style={container} className='fine'>\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </Spinner>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default PageLoader","import { baseURL } from \"./getServerURL\";\r\nimport getToken from \"./getToken\";\r\n\r\nconst deleteImage = async (image) => {\r\n  const token = getToken();\r\n  if (token) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    const imageData = JSON.stringify(image);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: imageData\r\n    };\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/users/delete-image\", reqOptions);\r\n      const result = await response.json();\r\n      console.log(result);\r\n    } catch(error) {\r\n      alert(\"error deleting image: \", error);\r\n    }\r\n  }\r\n}\r\n\r\nconst uploadImage = async (file, url) => {\r\n  const token = getToken();\r\n  if (token) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: formData\r\n    };\r\n    try {\r\n      const response = await fetch(url, reqOptions);\r\n      const result = await response.json();\r\n      return result\r\n    } catch (error) {\r\n      alert(\"image upload error: \", error)\r\n    }\r\n  }\r\n}\r\n\r\nconst recipeImageUpload = async (selectedFile) => {\r\n  if (!selectedFile) {\r\n    return {\r\n      url: \"https://res.cloudinary.com/cocktail-recipes/image/upload/v1665673309/recipe_images/yz2fbyzppludsz99ibrq.png\",\r\n      public_id: null\r\n    }\r\n  } else {\r\n    try {\r\n      const image = await uploadImage(selectedFile, baseURL + \"/api/recipes/upload-image\");\r\n      return image\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    \r\n  }\r\n}\r\n\r\nconst recipeUpdateImage = async (selectedFile, original) => {\r\n  if (!selectedFile) {\r\n    return original\r\n  } else {\r\n    try {\r\n      const image = await uploadImage(selectedFile, baseURL + \"/api/recipes/upload-image\")\r\n      return image\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nconst signUpImageUpload = async (selectedFile) => {\r\n  if (!selectedFile) {\r\n    return {\r\n      url: \"https://res.cloudinary.com/cocktail-recipes/image/upload/v1664980716/user_avatars/g7imx82ggre6lljzqb0r.png\",\r\n      public_id: null\r\n    }\r\n  } else {\r\n    try {\r\n      const image = await uploadImage(selectedFile, baseURL + \"/api/users/upload-image\")\r\n      return image\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n}\r\n\r\nexport { uploadImage, deleteImage, signUpImageUpload, recipeImageUpload, recipeUpdateImage }","import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport { baseURL } from '../utils/getServerURL.js';\r\nimport getToken from '../utils/getToken';\r\nimport { deleteImage } from '../utils/imageMangement';\r\nimport { resetSubArray } from '../utils/JSFunctions.js';\r\n\r\nexport const RecipesContext = createContext();\r\n\r\nexport const RecipesContextProvider = (props) => {\r\n  const [recipesList, setRecipesList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [sort, setSort] = useState(\"\");\r\n  const { user, setUser } = useContext(AuthContext);\r\n\r\n  const fetchAllRecipes = async () => {\r\n    try{\r\n      const response = await fetch(baseURL + \"/api/recipes/\")\r\n      const data = await response.json()\r\n      setRecipesList(data);\r\n      setSort(\"newest\");\r\n      setLoading(false); \r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  }\r\n\r\n  const deleteRecipe = async (id) => {\r\n    const token = getToken();\r\n    if (token) {\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      const toSubmit = JSON.stringify({ _id: id });\r\n      const reqOptions = {\r\n        method: \"DELETE\",\r\n        headers: myHeaders,\r\n        body: toSubmit\r\n      }\r\n      try {\r\n        const response = await fetch(baseURL + \"/api/recipes/delete-recipe\", reqOptions);\r\n        const result = response.json();\r\n        return result;\r\n      } catch (error) {\r\n        return ({ error: error });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDeleteRecipe = async (drink) => {\r\n    if (window.confirm(\"You're sure you want to delete this recipe? This is cannot be undone.\")) {\r\n      try {\r\n        const deleted = await deleteRecipe(drink._id);\r\n        setRecipesList(recipesList.filter(e => e._id !== drink._id));\r\n        resetSubArray(user.posted_recipes, drink._id);\r\n        setUser(user);\r\n        if (drink.image.public_id) {\r\n          try {\r\n            await deleteImage(drink.image);\r\n          } catch (error) {\r\n            console.log(\"Recipe deleted, but problem deleting image: \", error);\r\n          }\r\n        }\r\n        alert(deleted.msg);\r\n      } catch (error) {\r\n        alert(\"Something went wrong: \" + error);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchAllRecipes();\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <RecipesContext.Provider value={{ recipesList, setRecipesList, deleteRecipe, handleDeleteRecipe, loading, error, sort, setSort }}>\r\n      { props.children }\r\n    </RecipesContext.Provider>\r\n  )\r\n}","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\nimport Placeholder from 'react-bootstrap/Placeholder';\r\n\r\nfunction PlaceholderCard() {\r\n  return (\r\n    <Card style={{maxWidth: \"325px\"}}>\r\n      <Card.Img variant=\"top\" src=\"https://res.cloudinary.com/cocktail-recipes/image/upload/v1666878764/assets/placeholder_m3n8ad.png\" alt=\"Loading\" />\r\n      <Card.Body className='d-flex flex-column'>\r\n        <Placeholder as={Card.Title} animation=\"glow\">\r\n          <Placeholder xs={6} />\r\n        </Placeholder>\r\n        <Placeholder as={Card.Text} animation=\"glow\">\r\n          <Placeholder xs={7} /> <Placeholder xs={4} /> <Placeholder xs={4} />{' '}\r\n          <Placeholder xs={6} /> <Placeholder xs={8} />\r\n        </Placeholder>\r\n        <br/>\r\n        <Placeholder.Button variant=\"outline-success\" xs={6} className='align-self-end pt-3'/>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default PlaceholderCard","import React, { useContext } from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\n\r\nfunction SortSelector({ searchResult, setSearchResult }) {\r\n  const { recipesList, setRecipesList, sort, setSort } = useContext(RecipesContext);\r\n\r\n  const handleOnChange = (e) => {\r\n    setSort(e.target.value);\r\n    if (e.target.value === \"newest\") {\r\n      setRecipesList(recipesList.sort((a, b) => (new Date(a.createdAt) < new Date(b.createdAt) ? 1 : -1)));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (new Date(a.createdAt) < new Date(b.createdAt) ? 1 : -1)));\r\n      }\r\n    }\r\n    if (e.target.value === \"oldest\") {\r\n      setRecipesList(recipesList.sort((a, b) => (new Date(a.createdAt) > new Date(b.createdAt) ? 1 : -1)));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (new Date(a.createdAt) > new Date(b.createdAt) ? 1 : -1)));\r\n      }\r\n    }\r\n    if (e.target.value === \"popular\") {\r\n      setRecipesList(recipesList.sort((a, b) => (a.favourited_by.length < b.favourited_by.length) ? 1 : -1));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (a.favourited_by.length < b.favourited_by.length) ? 1 : -1));\r\n      }\r\n    }\r\n    if (e.target.value === \"recently-updated\") {\r\n      setRecipesList(recipesList.sort((a, b) => (new Date(a.updatedAt) < new Date(b.updatedAt) ? 1 : -1)));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (new Date(a.updatedAt) < new Date(b.updatedAt) ? 1 : -1)))\r\n      }\r\n    }\r\n    if (e.target.value === \"method\") {\r\n      setRecipesList(recipesList.sort((a, b) => {\r\n        const methodA = a.method.toLowerCase();\r\n        const methodB = b.method.toLowerCase();\r\n        if (methodA < methodB) {\r\n          return -1\r\n        } else if (methodA > methodB) {\r\n          return 1\r\n        } else {\r\n          return 0\r\n        }\r\n      }))\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => {\r\n          const methodA = a.method.toLowerCase();\r\n          const methodB = b.method.toLowerCase();\r\n          if (methodA < methodB) {\r\n            return -1\r\n          } else if (methodA > methodB) {\r\n            return 1\r\n          } else {\r\n            return 0\r\n          }\r\n        }))\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <label>Sort by:</label>\r\n      <Form.Select defaultValue={sort} onChange={handleOnChange}>\r\n        <option value={\"newest\"}>Newest</option>\r\n        <option value={\"oldest\"}>Oldest</option>\r\n        <option value={\"popular\"}>Popular</option>\r\n        <option value={\"recently-updated\"}>Recently Updated</option>\r\n        <option value={\"method\"}>Method</option>\r\n      </Form.Select>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default SortSelector","import React from 'react'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nfunction SearchForm({ searchInput, setSearchInput, searchResult, submitSearch, clearSearch }) {\r\n\r\n  const handleSearchInputChanges = (e) => {\r\n    setSearchInput({ ...searchInput, [e.target.name]: e.target.value.trim().toLowerCase()});\r\n  }\r\n\r\n  return (\r\n    <Card className='mt-4'>\r\n      <Card.Body>\r\n        <h5>Search:</h5>\r\n        <Form onSubmit={submitSearch}>\r\n          <Form.Text className='text-muted'>\r\n            Fill out one or more fields and our faeries will find the best matches.\r\n          </Form.Text>\r\n          <br/>\r\n          <Form.Label>Drink Name:</Form.Label>\r\n          <Form.Control className='mb-2' type='text' value={searchInput.name} name='name' onChange={handleSearchInputChanges} />\r\n          <Form.Label>Method:</Form.Label>\r\n          <Form.Control className='mb-2' type='text' value={searchInput.method} name='method' onChange={handleSearchInputChanges} />\r\n          <Form.Label>Includes ingredient:</Form.Label>\r\n          <Form.Control type='text' name='ingredient' value={searchInput.ingredient} onChange={handleSearchInputChanges} />\r\n          <Form.Text className='text-muted'>Please only type one ingredient</Form.Text>\r\n          <br/>\r\n          <Button className='mb-3 mt-3' variant='success' type='submit'>Search</Button>\r\n          {searchResult && <Button className='mb-3 ms-3 mt-3' variant='warning' onClick={clearSearch}>Clear Search</Button>}\r\n        </Form>\r\n      </Card.Body>\r\n  </Card>\r\n  )\r\n}\r\n\r\nexport default SearchForm","import { baseURL } from \"./getServerURL\";\r\nimport getToken from \"./getToken\";\r\n\r\nconst addFavourite = async(recipe) => {\r\n  const token = getToken();\r\n  if (token) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n    }\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/recipes/add-favourite/\" + recipe._id, reqOptions);\r\n      const result= await response.json();\r\n      console.log(result);\r\n    } catch(error) {\r\n      alert(\"Problem adding favourite: \" + error)\r\n    }\r\n  }\r\n}\r\n\r\nconst removeFavourite = async(recipe) => {\r\n  const token = getToken();\r\n  const myHeaders = new Headers();\r\n  myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n  const reqOptions = {\r\n    method: \"PATCH\",\r\n    headers: myHeaders\r\n  }\r\n  try {\r\n    const response = await fetch(baseURL + \"/api/recipes/delete-favourite/\" + recipe._id, reqOptions);\r\n    const result = await response.json();\r\n    console.log(result);\r\n  } catch (error) {\r\n    alert(\"Problem deleting favourite: \" + error);\r\n  }\r\n}\r\n\r\nexport { addFavourite, removeFavourite }","import React, { useContext, useEffect, useState } from 'react'\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport Button from 'react-bootstrap/esm/Button.js';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport { addFavourite, removeFavourite } from '../utils/favouritesManagement.js';\r\nimport { checkIf, resetSubArray } from '../utils/JSFunctions.js';\r\n\r\nfunction FavouriteButton({ recipe }) {\r\n\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const { recipesList, setRecipesList } = useContext(RecipesContext);\r\n  const [poster, setPoster] = useState(false);\r\n  const [alreadyFavourite, setAlreadyFavourite] = useState(false);\r\n  const [favCount, setFavCount] = useState(recipe.favourited_by.length);\r\n\r\n  const handleAddFav = async() => {\r\n    if (!poster && !alreadyFavourite) {\r\n      try {\r\n        addFavourite(recipe);\r\n        setAlreadyFavourite(true);\r\n        setFavCount(prev => prev + 1);\r\n        const thisRecipeIndex = recipesList.findIndex( item => item._id === recipe._id);\r\n        recipesList[thisRecipeIndex].favourited_by.push(user._id);\r\n        setRecipesList(recipesList); \r\n        user.favourite_recipes.push(recipe._id);\r\n        setUser(user);\r\n      } catch(error) {\r\n        alert(\"Problem adding favourite: \" + error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleRemoveFav = async() => {\r\n    if (alreadyFavourite) {\r\n      try {\r\n        await removeFavourite(recipe);\r\n        setAlreadyFavourite(false);\r\n        setFavCount(prev => prev - 1);\r\n        const thisRecipeIndex = recipesList.findIndex( item => item._id === recipe._id);\r\n        resetSubArray(recipesList[thisRecipeIndex].favourited_by, user._id);\r\n        setRecipesList(recipesList);\r\n        resetSubArray(user.favourite_recipes, recipe._id);\r\n        setUser(user);\r\n      } catch (error) {\r\n        alert(\"Problem deleting favourite: \" + error);\r\n      }\r\n    } \r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setPoster(checkIf(recipe._id, user.posted_recipes));\r\n      setAlreadyFavourite(checkIf(recipe._id, user.favourite_recipes));\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {(user && !poster) && \r\n        <>\r\n          {alreadyFavourite && \r\n            <Button className='fav-hover' variant='light' title=\"Remove from favourites\" onClick={handleRemoveFav}>\r\n              <Icon.HeartFill style={{fontSize: \"large\", color: \"#DE4940\"}}/> x {favCount}\r\n            </Button>\r\n          }\r\n          {!alreadyFavourite && \r\n            <Button className='fav-hover' variant='light' title=\"Add to favourites\" onClick={handleAddFav}>\r\n                <Icon.Heart style={{fontSize: \"large\", color: \"#DE4940\"}}/>  x {favCount}\r\n            </Button>\r\n            }\r\n        </>\r\n      }\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default FavouriteButton","import React, { useContext, useState } from 'react'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport PageLoader from './PageLoader.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction DeleteButton({toDelete, redirect}) {\r\n  const { handleDeleteRecipe } = useContext(RecipesContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const redirectOnDelete = useNavigate();\r\n\r\n  const redirectHome = async() => {\r\n    redirectOnDelete(\"/home\", {replace: true});\r\n  }\r\n  \r\n  const handleClick = async() => {\r\n    setLoading(true);\r\n    await handleDeleteRecipe(toDelete);\r\n    setLoading(false);\r\n    if (redirect) {\r\n      redirectHome();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading && <PageLoader />}\r\n      <Button variant=\"danger\" size=\"sm\" onClick={handleClick}>\r\n        <Icon.Trash title='Delete Recipe' style={{fontSize: \"large\"}}/>\r\n      </Button>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default DeleteButton","import React, { useContext, useEffect, useState } from 'react'\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { displayNicely, formatImage500px } from '../utils/JSFunctions';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { Link } from 'react-router-dom';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport FavouriteButton from './FavouriteButton.js';\r\nimport DeleteButton from './DeleteButton.js';\r\n\r\nfunction DrinkCard({ drink }) {\r\n  const { user } = useContext(AuthContext);\r\n  const formattedPicture = formatImage500px(drink.image.url)\r\n  const [floats, setFloats] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setFloats('d-flex flex-column align-items-end justify-content-between');\r\n    }\r\n    if (!user) {\r\n      setFloats('d-flex flex-column align-items-end justify-content-end')\r\n    }\r\n  }, [user])\r\n  \r\n\r\n  return (\r\n    <Card style={{maxWidth: \"325px\"}}>\r\n      <Card.Img variant='top' src={formattedPicture} alt={drink.name} />\r\n      <Card.ImgOverlay className={floats}>\r\n        <>\r\n        {user && (user._id !== drink.posted_by) &&\r\n          <FavouriteButton recipe={drink} />\r\n        }\r\n        {user && (user._id === drink.posted_by) &&\r\n            <span>\r\n              <Link to={'/update-recipe'} className='edit-link' state={{ recipe: drink }} style={{marginRight: \"0.5em\"}}>\r\n                <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n              </Link>\r\n              <DeleteButton toDelete={drink} redirect={false} />\r\n            </span>\r\n        }\r\n        </>\r\n      <Link className='view-link-button' to={'/view-recipe/' + drink._id} >\r\n          View full recipe\r\n      </Link>\r\n      </Card.ImgOverlay>\r\n\r\n      <Card.Header bg=\"white\" className='d-flex flex-wrap align-items-center justify-content-between'>\r\n          <Card.Title className='header-title'>{drink.name}</Card.Title>\r\n          <Card.Subtitle className=\"text-muted\">\r\n            { formatDistanceToNow(new Date(drink.createdAt), { addSuffix: true }) }\r\n          </Card.Subtitle>\r\n      </Card.Header>\r\n      \r\n      <Card.Body>\r\n        <p>\r\n          <strong className='sub-title'>Method: </strong>{drink.method}\r\n        </p>\r\n        <p>\r\n          <strong className='sub-title'>Ingredients: </strong>\r\n          {drink.ingredients.map((ingredient, i, arr) => {\r\n            if (i + 1 === arr.length) {\r\n              return <React.Fragment key={i}>{displayNicely(ingredient.ingredient)}</React.Fragment>\r\n            } else {\r\n               return <React.Fragment key={i}>{displayNicely(ingredient.ingredient)}, </React.Fragment>\r\n            }\r\n          })}\r\n        </p>\r\n        <div>\r\n          <Icon.HeartFill style={{fontSize: \"large\", color: \"#DE4940\"}}/> Favourited by  {drink.favourited_by.length} mixologists\r\n        </div>\r\n        <br/>\r\n        <br/>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default DrinkCard","import React, { Suspense, useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport PageLoader from '../components/PageLoader';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport PlaceholderCard from '../components/PlaceholderCard';\r\nimport SortSelector from '../components/SortSelector';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport Offcanvas from 'react-bootstrap/Offcanvas';\r\nimport SearchForm from '../components/SearchForm';\r\nimport DrinkCard from '../components/DrinkCard';\r\n\r\nfunction Home() {\r\n  const { user } = useContext(AuthContext);\r\n  const { recipesList, loading, error } = useContext(RecipesContext);\r\n  const [searchInput, setSearchInput] = useState({ name: \"\", method: \"\", ingredient: \"\" });\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [mount, setMount] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const submitSearch = (e) => {\r\n    e.preventDefault();\r\n    if (JSON.stringify(searchInput) !== JSON.stringify({ name: \"\", method: \"\", ingredient: \"\" })) {\r\n      const filterResult = recipesList.filter((e) => {\r\n      return (\r\n        e.name.toLowerCase().includes(searchInput.name)\r\n        && e.method.toLowerCase().includes(searchInput.method)\r\n        && e.ingredients.some(i => i.ingredient.toLowerCase().includes(searchInput.ingredient.trim().toLowerCase()))\r\n        )\r\n      })\r\n      setSearchResult(filterResult);\r\n      handleClose();\r\n    } else {\r\n      alert(\"You must fill in at least one search field\")\r\n    }\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    setSearchResult(null);\r\n    setSearchInput({ name: \"\", method: \"\", ingredient: \"\" });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n  }, [])\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <div className='page-grid-4-1'>\r\n        {loading && <PageLoader/>}\r\n        {recipesList.length === 0 && <p>Looks like there's no recipes :(</p>}\r\n        {error && <p>Something went wrong: {error}</p>}\r\n\r\n        <div className='d-flex flex-column align-items-center'>\r\n          <div className='cards-container mb-3'>\r\n            {(recipesList && !searchResult) && <>\r\n              {recipesList.map((drink) => {\r\n                return (\r\n                  <DrinkCard key={drink._id} drink={drink} />\r\n                )\r\n              })}\r\n            </>}\r\n            {searchResult && \r\n            <>\r\n              {searchResult.length === 0 && <p>Looks like there were no matches :(</p>}\r\n              {searchResult.length > 0 &&\r\n                searchResult.map((drink) => {\r\n                  return (\r\n                    <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                      <DrinkCard drink={drink} />\r\n                    </Suspense>\r\n                  )\r\n                })\r\n              }\r\n            </>}\r\n          </div>\r\n          {searchResult && <Button variant='warning' onClick={clearSearch}>Clear Search</Button>}\r\n        </div>\r\n       \r\n\r\n        <div className='search-column'>\r\n          {!user &&\r\n            <p className='mb-2'>\r\n              Welcome to <strong className='header-title'>lemon drop recipes</strong>!\r\n              This page is for flavour enthusiasts. Check out our recipe collection for some quick inspiration, \r\n              or <Link to={\"/sign-up\"} className='p-link'>sign up</Link> to join our community of stirrers and shakers!\r\n              You'll be able to submit your own recipes, post comments, and save your favourites! \r\n            </p>\r\n          }\r\n          {user && <>\r\n            <p className='mb-2'>\r\n              Welcome to <strong className='header-title'>Lemon Drop Drinks</strong>!\r\n              Your home as a flavour enthusiast \r\n            </p>\r\n            {/* <p className='hide-on-collapse'><Link className='link-button' to={'/new-recipe'}>Post a recipe!</Link></p> */}\r\n          </>}\r\n\r\n          <div className='sort-search-container'>\r\n            <SortSelector searchResult={searchResult} setSearchResult={setSearchResult} />\r\n            <div className='show-on-collapse'>\r\n              <Button variant='success' onClick={handleShow}>Search<Icon.ArrowBarRight style={{fontSize: \"x-large\"}}/></Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='hide-on-collapse'>\r\n            <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n              clearSearch={clearSearch} />\r\n          </div>\r\n\r\n          <Offcanvas placement='end' show={show} onHide={handleClose}>\r\n            <Offcanvas.Header closeButton />\r\n            <Offcanvas.Body>\r\n              <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n                clearSearch={clearSearch} />\r\n            </Offcanvas.Body>\r\n          </Offcanvas>\r\n          \r\n        </div>\r\n      </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useEffect } from 'react'\r\nimport '../css/launch&nav.css';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction LaunchPage() {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const test = document.getElementById(\"lemon\");\r\n    const title = document.getElementById(\"title\");\r\n    setTimeout(() => {\r\n      test.classList.add(\"stage2\");\r\n    }, 500);\r\n    setTimeout(() => {\r\n      title.classList.add(\"stage2\");\r\n    }, 1000);\r\n    setTimeout(() => {\r\n      test.classList.add(\"stage3\");\r\n      title.classList.add(\"stage3\");\r\n    }, 3500)\r\n    setTimeout(() => {\r\n      navigate(\"/home\")\r\n    }, 4500)\r\n  }, [])\r\n\r\n  return (\r\n    <div className='set-page'>\r\n      <div className='container'>\r\n        <img id='lemon' src=\"https://res.cloudinary.com/cocktail-recipes/image/upload/v1666457159/assets/lemon_wnjxh9.png\" \r\n          alt='Lemon Drop'\r\n          title='Lemon Drop' \r\n          className='stage1'/>\r\n        <h1 id='title' className='stage1 header-title'>lemon drop recipes</h1>\r\n      </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default LaunchPage","import React, { useState } from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n\r\nfunction PasswordInput({ handleChanges, PWinvalid, styling, textStyling, placeholder }) {\r\n  const [passwordVisibility, setPasswordVisibility] = useState(\"password\");\r\n  const [showOrHide, setShowOrHide] = useState(\"Show\");\r\n\r\n  const passwordToggle = () => {\r\n    if (passwordVisibility === \"password\") {\r\n      setPasswordVisibility(\"text\");\r\n      setShowOrHide(\"Hide\")\r\n    } else {\r\n      setPasswordVisibility(\"password\");\r\n      setShowOrHide(\"Show\")\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <InputGroup hasValidation style={styling}>\r\n        <Form.Control type={passwordVisibility} name=\"password\" placeholder={placeholder} onChange={handleChanges} \r\n          isInvalid={PWinvalid} autoComplete={\"off\"} required/>\r\n        <Button onClick={passwordToggle} variant=\"outline-success\" id=\"button-addon2\">\r\n        {showOrHide}\r\n        </Button>\r\n        <Form.Control.Feedback type=\"invalid\" >\r\n          Password must be at least 6 characters, include at least one number, and mix capital and lowercase letters.\r\n        </Form.Control.Feedback>\r\n      </InputGroup>\r\n      {!PWinvalid && \r\n        <Form.Text muted style={textStyling}>Password must be at least 6 characters, include at least one number, and mix capital and lowercase letters.</Form.Text>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PasswordInput","import React, { useContext, useState } from 'react'\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { passwordValidation } from '../utils/JSFunctions';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport PasswordInput from '../components/PasswordInput';\r\nimport PageLoader from '../components/PageLoader';\r\n\r\nfunction Login() {\r\n\r\n  const { login, logout, user } = useContext(AuthContext);\r\n  const [inputInfo, setInputInfo] = useState({});\r\n  const [PWinvalid, setPWinvalid] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  const handleChanges = (e) => {\r\n    setInputInfo({ ...inputInfo, [e.target.name]: e.target.value });\r\n    setPWinvalid(false);\r\n  }\r\n\r\n  const handleSubmit = async(e) => {\r\n    setLoading(true);\r\n    const validPassword = passwordValidation(inputInfo.password);\r\n    if (validPassword) {\r\n      e.preventDefault();\r\n      await login(inputInfo);\r\n      setLoading(false);\r\n    } else {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setPWinvalid(true);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {loading && <PageLoader />}\r\n      <h1 className='page-title'>Login</h1>\r\n      {!user &&\r\n        <Form name=\"loginForm\" onSubmit={handleSubmit} className='simple-display'>\r\n\r\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Enter your email address\" style={{width: \"80%\"}} >\r\n            <Form.Control type=\"email\" name=\"email\" placeholder=\"name@example.com\" onChange={handleChanges} required/>\r\n          </FloatingLabel>\r\n\r\n          <PasswordInput handleChanges={handleChanges} PWinvalid={PWinvalid} styling={{width: \"80%\"}} textStyling={{width: \"80%\", marginTop: \"-0.8em\"}} placeholder={\"Password\"} />\r\n\r\n          <Button size=\"lg\" variant=\"success\" type=\"submit\">Login</Button>\r\n\r\n          <p>Not signed up yet? <Link to={'/sign-up'} replace={true}>Sign up</Link>!</p>\r\n\r\n        </Form>\r\n      }\r\n      {user && \r\n        <div className='simple-display'>\r\n          <p className='text-center'><strong>{user.username}</strong> is already logged in.</p>\r\n          <Button size=\"lg\" variant=\"success\" onClick={logout}>Logout?</Button>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport { formatProfileImage500px } from '../utils/JSFunctions'\r\n\r\nfunction UserPlainView({ userToView, display }) {\r\n  const formattedPicture = formatProfileImage500px(userToView.profile_picture.url);\r\n  const date = new Date(userToView.createdAt).toDateString().substring(4);\r\n\r\n  return (\r\n\r\n    <>\r\n      <img  style={{border: \"solid 1px rgba(0,0,0,0.3)\", borderRadius: \"50%\", maxWidth: \"100%\"}} src={formattedPicture} alt={`${userToView.username}'s profile`}/>\r\n\r\n      <div className='plain-user-info' style={ display }>\r\n        <h5>{userToView.username}</h5>\r\n\r\n        {userToView.email && \r\n          <div className='d-flex gap-2'>\r\n            <h6 className='account-mini-title'>Email: </h6>\r\n            <h6 className='sub-title'>{userToView.email}</h6>\r\n          </div>\r\n        }\r\n        \r\n\r\n        <div className='d-flex gap-2'>\r\n          <h6 className='account-mini-title'>User since: </h6>\r\n          <h6 className='sub-title'>{date}</h6>\r\n        </div>\r\n\r\n        <div className='d-flex gap-2'>\r\n          <h6 className='account-mini-title'>Recipes posted: </h6>\r\n          <h6 className='sub-title'>{userToView.posted_recipes.length}</h6>\r\n        </div>\r\n\r\n        {userToView.description !== \"\" && \r\n          <div>\r\n            <h6 className='account-mini-title'>Description: </h6>\r\n            <p>{userToView.description}</p>\r\n          </div>\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserPlainView","import React, { useContext, useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport getToken from '../utils/getToken'\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { emailValidation, passwordValidation } from '../utils/JSFunctions';\r\nimport { deleteImage, uploadImage } from '../utils/imageMangement';\r\nimport PasswordInput from './PasswordInput';\r\nimport PageLoader from './PageLoader';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport UserPlainView from './UserPlainView';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction MyAccount({ loading, setLoading }) {\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [inputs, setInputs] = useState(\"none\");\r\n  const [hideOnEdit, setHideOnEdit] = useState(\"block\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPWinvalid, setNewPWinvalid] = useState(false);\r\n  const [oldPWinvalid, setOldPWinvalid] = useState(false);\r\n  const [desc, setDesc] = useState(\"\");\r\n\r\n  const handleEditSwitch = () => {\r\n    if (editMode) {\r\n      setEditMode(false);\r\n    } else {\r\n      setEditMode(true);\r\n      setUsername(user.username);\r\n      setEmail(user.email);\r\n      setDesc(user.description);\r\n    }\r\n  }\r\n\r\n  const editModeToggle = () => {\r\n    if (editMode) {\r\n      setInputs(\"flex\");\r\n      setHideOnEdit(\"none\");\r\n    } else {\r\n      setInputs(\"none\");\r\n      setHideOnEdit(\"flex\");\r\n    }\r\n  }\r\n\r\n  const handleUsernameChange = (e) => {\r\n    setUsername(e.target.value);\r\n  }\r\n\r\n  const handleUsernameClick = async() => {\r\n    const trimmed = username.trim()\r\n    if (trimmed === \"\") {\r\n      alert(\"Username can't be nothing.\")\r\n    } else if (user.username === trimmed) {\r\n      alert(trimmed + \" is already your username.\")\r\n    } else {\r\n      if (window.confirm(\"Are you sure you want to change your username from \" + user.username + \" to \" + trimmed + \"?\")) {\r\n        setLoading(true);\r\n        await updateUser({ username: trimmed });\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n\r\n  const handleEmailClick = async() => {\r\n    if (!emailValidation(email)) {\r\n      alert(\"Invalid email format. Please try again.\")\r\n    } else if (user.email === email) {\r\n      alert(email + \" is already your registered email.\")\r\n    } else {\r\n      if (window.confirm(\"Are you sure you want to change your email from \" + user.email + \" to \" + email + \"?\")) {\r\n        setLoading(true);\r\n        await updateUser({ email: email });\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFileAttach = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  }\r\n\r\n  const handleFileClick = async() => {\r\n    if (!selectedFile && !user.profile_picture.public_id) {\r\n      alert(\"Your display picture is already set to default.\")\r\n    }\r\n    else if (!selectedFile && user.profile_picture.public_id) {\r\n      if (window.confirm(\"There is no file selected. This will return your display picture back to default. Is that ok?\")) {\r\n        setLoading(true);\r\n        await deleteImage(user.profile_picture);\r\n        updateUser(\r\n          {profile_picture: {\r\n          url: \"http://res.cloudinary.com/cocktail-recipes/image/upload/v1664980716/user_avatars/g7imx82ggre6lljzqb0r.png\",\r\n          public_id: null\r\n          }});\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      if (window.confirm(\"You're sure you want to update your display picture?\")) {\r\n        setLoading(true);\r\n        if (user.profile_picture.public_id) {\r\n          await deleteImage(user.profile_picture);\r\n        }\r\n        const image = await uploadImage(selectedFile, baseURL + \"/api/users/upload-image\");\r\n        updateUser({ profile_picture: image });\r\n        setSelectedFile(null);\r\n        const fileInput = document.querySelector(\"input[name='profile_picture']\");\r\n        fileInput.value = \"\";\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNewPWChange = (e) => {\r\n    setNewPassword(e.target.value);\r\n    setNewPWinvalid(false);\r\n  }\r\n\r\n  const handlePWClick = () => {\r\n    const validPassword = passwordValidation(newPassword);\r\n    if (validPassword) {\r\n      setShowModal(true);\r\n    } else {\r\n      setNewPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  const handleOldPWChange = (e) => {\r\n    setOldPassword(e.target.value);\r\n    setOldPWinvalid(false);\r\n  }\r\n\r\n  const handleOldPWClick = async() => {\r\n    const validPassword = passwordValidation(oldPassword);\r\n    if (validPassword) {\r\n      setLoading(true);\r\n      try {\r\n        const result = await verifyAndUpdatePassword(oldPassword, newPassword);\r\n        if (result.error) {\r\n          setLoading(false);\r\n          return alert(result.error)\r\n        } else {\r\n          setLoading(false);\r\n          alert(result)\r\n          setShowModal(false);\r\n          const pwInput = document.querySelector(\"input[name='password']\");\r\n          pwInput.value = \"\";\r\n        }\r\n      } catch(error) {\r\n        console.log(\"error: \", error)\r\n      }\r\n    } else {\r\n      setOldPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  const verifyAndUpdatePassword = async() => {\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        const reqBody = JSON.stringify({\r\n          old_password: oldPassword,\r\n          new_password: newPassword\r\n        });\r\n        const reqOptions = {\r\n          method: \"POST\",\r\n          headers: myHeaders,\r\n          body: reqBody\r\n        }\r\n        const response = await fetch(baseURL + \"/api/users/verify-password\", reqOptions);\r\n        const result = await response.json();\r\n        return result\r\n      } catch(error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDescChange = (e) => {\r\n    setDesc(e.target.value);\r\n  }\r\n\r\n  const handleDescClick = async() => {\r\n    const trimmed = desc.trim();\r\n    console.log(trimmed);\r\n    let message = \"\";\r\n    if (trimmed === \"\") {\r\n      message = \"Your description is blank. Is this correct?\"\r\n    } else {\r\n      message = \"Are you sure you'd like to update your description?\"\r\n    }\r\n    if (window.confirm(message)) {\r\n      setLoading(true);\r\n      await updateUser({ description: trimmed });\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const updateUser = async (item) => {\r\n    const token = getToken();\r\n    if (token) {\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      const toUpdate = JSON.stringify(item);\r\n      const reqOptions = {\r\n        method: 'PATCH',\r\n        headers: myHeaders,\r\n        body: toUpdate\r\n      }\r\n      const response = await fetch(baseURL + \"/api/users/update-user\", reqOptions);\r\n      const result = await response.json();\r\n      setUser(result);\r\n    } else {\r\n      console.log(\"no token\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    editModeToggle();\r\n  }, [editMode])\r\n  \r\n  const inputDisplay = {\r\n    display: inputs,\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  }\r\n\r\n  const plainDisplay = {\r\n    display: hideOnEdit,\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user && \r\n        <div className='simple-display'>\r\n          {loading && <PageLoader />}\r\n\r\n          <div className='d-flex gap-2'>\r\n            <h4 className='sub-title'>Account Details</h4>\r\n            <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant='warning' title=\"Edit Account Details\" \r\n              onClick={handleEditSwitch}>\r\n              <Icon.PencilSquare style={{fontSize: \"large\"}}/>\r\n            </Button>\r\n          </div>\r\n\r\n          <UserPlainView userToView={user} display={plainDisplay} />\r\n          <Button variant=\"warning\" onClick={handleEditSwitch} style={plainDisplay}>Edit Mode</Button>\r\n\r\n          <div style={inputDisplay}>\r\n          <h5>{user.username}</h5>\r\n          <p>To update your profile, make your changes to the desired field and click the corresponding yellow edit button to apply them.</p>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>\r\n                  <Form.Group controlId=\"formFile\">\r\n                    <Form.Label>Choose a new display picture:</Form.Label>\r\n                    <Form.Control type=\"file\" name=\"profile_picture\" onChange={handleFileAttach} />\r\n                  </Form.Group>\r\n                </td>\r\n                <td style={{verticalAlign: \"bottom\"}}>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant='warning' title=\"Change Profile Picture\" \r\n                    onClick={handleFileClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <FloatingLabel controlId=\"floatingInputUsername\" label=\"Edit username\">\r\n                    <Form.Control type=\"username\" name=\"username\" placeholder=\"Username\" value={username} \r\n                      onChange={handleUsernameChange}/>\r\n                  </FloatingLabel>\r\n                </td>\r\n                <td>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Username\"\r\n                    onClick={handleUsernameClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <FloatingLabel controlId=\"floatingInputEmail\" label=\"Edit email address\" style={inputDisplay} >\r\n                    <Form.Control type=\"email\" name=\"email\" placeholder=\"name@example.com\" value={email} \r\n                      onChange={handleEmailChange} />\r\n                  </FloatingLabel>\r\n                </td>\r\n                <td>\r\n                <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Email Address\" \r\n                  onClick={handleEmailClick}>\r\n                    <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <form>\r\n                    <PasswordInput PWinvalid={newPWinvalid} placeholder={\"Enter new password\"} textStyling={{marginTop: \"-0.8em\"}} \r\n                      handleChanges={handleNewPWChange}/>\r\n                  </form>\r\n                 \r\n                </td>\r\n                <td style={{verticalAlign: \"top\"}}>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Password\" \r\n                    onClick={handlePWClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <Form.Control as=\"textarea\" rows={3} value={desc} onChange={handleDescChange}/>\r\n                </td>\r\n                <td>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Description\" \r\n                    onClick={handleDescClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan={2} style={{textAlign: \"center\"}} >\r\n                  <Button variant=\"success\" onClick={handleEditSwitch}>Leave edit mode</Button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          </div>\r\n          \r\n          <br/>\r\n          <br/>\r\n\r\n          <Modal show={showModal} onHide={() => {setShowModal(false)}}>\r\n            <Modal.Header closeButton />\r\n            <Modal.Body>\r\n              <p>Please enter your old password to verify this change:</p>\r\n              <PasswordInput handleChanges={handleOldPWChange} PWinvalid={oldPWinvalid} placeholder={\"Enter old password\"}/>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={() => {setShowModal(false)}}>\r\n                Close\r\n              </Button>\r\n              <Button variant=\"success\" onClick={handleOldPWClick}>\r\n                Enter and Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n          \r\n        </div>\r\n      }\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default MyAccount","import React, { Suspense, useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport DrinkCard from './DrinkCard.js';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport SortSelector from './SortSelector.js';\r\nimport PageLoader from './PageLoader.js';\r\nimport PlaceholderCard from './PlaceholderCard.js';\r\nimport Button from 'react-bootstrap/esm/Button.js';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport SearchForm from './SearchForm.js';\r\nimport Offcanvas from 'react-bootstrap/Offcanvas';\r\n\r\nfunction UserRecipes({ userToView, filter }) {\r\n  const { user } = useContext(AuthContext);\r\n  const { recipesList, sort, loading, error } = useContext(RecipesContext);\r\n  const [userList, setUserList] = useState([]);\r\n  const [searchInput, setSearchInput] = useState({ name: \"\", method: \"\", ingredient: \"\" });\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const submitSearch = (e) => {\r\n    e.preventDefault();\r\n    if (JSON.stringify(searchInput) !== JSON.stringify({ name: \"\", method: \"\", ingredient: \"\" })) {\r\n      const filterResult = userList.filter((e) => {\r\n        return (\r\n          e.name.toLowerCase().includes(searchInput.name.trim().toLowerCase())\r\n          && e.method.toLowerCase().includes(searchInput.method.trim().toLowerCase())\r\n          && e.ingredients.some(i => i.ingredient.toLowerCase().includes(searchInput.ingredient.trim().toLowerCase()))\r\n          )\r\n      })\r\n      setSearchResult(filterResult);\r\n      handleClose();\r\n    } else {\r\n      alert(\"You must fill in at least one search field\")\r\n    }\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    setSearchResult(null);\r\n    setSearchInput({ name: \"\", method: \"\", ingredient: \"\" });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (recipesList && filter === \"posted\") {\r\n      setUserList(recipesList.filter((recipe) => recipe.posted_by === userToView._id));\r\n    } else if (recipesList && filter === \"favourites\") {\r\n      setUserList(recipesList.filter((recipe) => recipe.favourited_by.includes(userToView._id)));\r\n    }\r\n  }, [recipesList, sort]);\r\n  \r\n  return (\r\n    <div className='page-grid-4-1'>\r\n    {loading && <PageLoader/>}\r\n    {userList.length === 0 && <p>Looks like there's no recipes :(</p>}\r\n    {error && <p>Something went wrong: {error}</p>}\r\n\r\n    <div className='d-flex flex-column align-items-center'>\r\n      <div className='cards-container mb-3'>\r\n        {(userList && !searchResult) && <>\r\n          {userList.map((drink) => {\r\n            return (\r\n              <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                <DrinkCard drink={drink} />\r\n              </Suspense>\r\n            )\r\n          })}\r\n        </>}\r\n        {searchResult && \r\n        <>\r\n          {searchResult.length === 0 && <p>Looks like there were no matches :(</p>}\r\n          {searchResult.length > 0 &&\r\n            searchResult.map((drink) => {\r\n              return (\r\n                <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                  <DrinkCard drink={drink} />\r\n                </Suspense>\r\n              )\r\n            })\r\n          }\r\n        </>}\r\n      </div>\r\n      {searchResult && <Button variant='warning' onClick={clearSearch}>Clear Search</Button>}\r\n    </div>\r\n   \r\n\r\n    <div className='search-column'>\r\n      {!user &&\r\n        <p className='mb-2'>\r\n          Welcome to <strong className='header-title'>Lemon Drop Drinks</strong>!\r\n          This page is for flavour enthusiasts. Check out our recipes below for some quick inspiration, \r\n          or <Link to={\"/sign-up\"} className='p-link'>sign up</Link> to join our community of stirrers and shakers!\r\n          You'll be able to submit your own recipes, post comments, and save your favourites! \r\n        </p>\r\n      }\r\n      {user && <>\r\n        <p className='mb-2'>\r\n          Welcome to <strong className='header-title'>Lemon Drop Drinks</strong>!\r\n          Your home as a flavour enthusiast \r\n        </p>\r\n      </>}\r\n\r\n      <div className='d-flex align-items-end justify-content-between gap-2'>\r\n        <SortSelector searchResult={searchResult} setSearchResult={setSearchResult} />\r\n        <span className='show-on-collapse'>\r\n        <Button variant='success' onClick={handleShow}>Search<Icon.ArrowBarRight style={{fontSize: \"x-large\"}}/></Button>\r\n        </span>\r\n      </div>\r\n\r\n      <div className='hide-on-collapse'>\r\n        <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n          clearSearch={clearSearch} />\r\n      </div>\r\n\r\n      <Offcanvas placement='end' show={show} onHide={handleClose}>\r\n        <Offcanvas.Header closeButton />\r\n        <Offcanvas.Body>\r\n          <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n            clearSearch={clearSearch} />\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n      \r\n      \r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default UserRecipes","import React, { useContext, useEffect, useState } from 'react'\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport MyAccount from '../components/MyAccount';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport UserRecipes from '../components/UserRecipes';\r\nimport Fade from 'react-bootstrap/Fade';\r\n\r\nfunction MyProfile() {\r\n  const { user } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mount, setMount] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n}, [])\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n        <div style={{width: \"100%\"}}>\r\n          <Tabs\r\n            defaultActiveKey=\"account\"\r\n            id=\"uncontrolled-tab-example\"\r\n            className=\"mb-3\"\r\n            justify>\r\n\r\n            <Tab eventKey=\"account\" title=\"Account Details\">\r\n              <MyAccount loading={loading} setLoading={setLoading} />\r\n            </Tab>\r\n\r\n            <Tab eventKey=\"recipes\" title=\"My Recipes\" className='test'>\r\n              <UserRecipes userToView={user} filter={\"posted\"} />\r\n            </Tab>\r\n\r\n            <Tab eventKey=\"favourites\" title=\"My Favourites\">\r\n              <UserRecipes userToView={user} filter={\"favourites\"} />\r\n            </Tab>\r\n          </Tabs>\r\n        </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default MyProfile","import React, { useContext, useState } from 'react';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { passwordValidation } from '../utils/JSFunctions';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { deleteImage, signUpImageUpload } from '../utils/imageMangement';\r\nimport PasswordInput from '../components/PasswordInput';\r\nimport PageLoader from '../components/PageLoader';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction SignUp() {\r\n  const { logout, user } = useContext(AuthContext);\r\n  const redirect = useNavigate();\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [inputInfo, setInputInfo] = useState({});\r\n  const [PWinvalid, setPWinvalid] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileAttach = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  }\r\n\r\n  const handleChanges = (e) => {\r\n    setInputInfo({ ...inputInfo, [e.target.name]: e.target.value});\r\n    setPWinvalid(false);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    const validPassword = passwordValidation(inputInfo.password);\r\n    if (validPassword) {\r\n      e.preventDefault();\r\n      const trimmed = inputInfo.username.trim()\r\n      if (trimmed === \"\") {\r\n        alert(\"Username can't be nothing\");\r\n      } else {\r\n        signUp();\r\n      }\r\n    } else {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  const signUp = async () => {\r\n    setLoading(true);\r\n    const image = await signUpImageUpload(selectedFile);\r\n    inputInfo.profile_picture = image; \r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    const newUser = JSON.stringify(inputInfo);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: newUser,\r\n    }\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/users/sign-up\", reqOptions);\r\n      const result = await response.json();\r\n      console.log(result);\r\n      if (result.error) {\r\n        if (image.public_id) {\r\n          deleteImage(image)\r\n        }\r\n        alert(\"sign up error: \" + result.error);\r\n      } else {\r\n        alert(\"Successfully signed up! Please log in.\");\r\n        redirect(\"/login\", { replace: true });\r\n      }\r\n      setLoading(false);\r\n    } catch(error) {\r\n      alert(\"sign up error: \" + error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {loading && <PageLoader />}\r\n      <h1 className='page-title'>Sign Up!</h1>\r\n\r\n      {!user && \r\n        <Form name=\"signUpForm\" onSubmit={handleSubmit} className='simple-display'>\r\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Enter your email address*\" style={{width: \"80%\"}} >\r\n            <Form.Control type=\"email\" name=\"email\" placeholder=\"name@example.com\" onChange={handleChanges} required/>\r\n          </FloatingLabel>\r\n\r\n          <FloatingLabel controlId=\"floatingInputUsername\" label=\"Choose a username*\" style={{width: \"80%\"}}>\r\n            <Form.Control type=\"username\" name=\"username\" placeholder=\"Username\" onChange={handleChanges} autoCorrect={false} required/>\r\n          </FloatingLabel>\r\n\r\n          <PasswordInput handleChanges={handleChanges} PWinvalid={PWinvalid} styling={{width: \"80%\"}} \r\n            textStyling={{width: \"80%\", marginTop: \"-0.8em\"}} placeholder={\"Password*\"} />\r\n          \r\n          <Form.Group controlId=\"formFile\" style={{width: \"80%\"}}>\r\n            <Form.Label>Choose a display picture:</Form.Label>\r\n            <Form.Control type=\"file\" name=\"profile_picture\" onChange={handleFileAttach} />\r\n            <Form.Text muted>You can also do this later from your profile page</Form.Text>\r\n          </Form.Group>\r\n\r\n          <p style={{width: \"80%\", textAlign: \"right\", margin: 0}}>*required</p>\r\n\r\n          <Button size=\"lg\" variant=\"success\" type=\"submit\">Sign up</Button>\r\n          <p>Already have an account? <Link to={'/login'} replace={true}>Login</Link>!</p>\r\n        </Form>\r\n      }\r\n\r\n      {user && \r\n        <div className='simple-display'>\r\n          <p className='text-center'><strong>{user.username}</strong> is already logged in.</p>\r\n          <Button size=\"lg\" variant=\"success\" onClick={logout}>Logout?</Button>\r\n        </div>\r\n      }\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp","import React from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nfunction RecipeForm({ \r\n  setSelectedFile,\r\n  name,\r\n  setName,\r\n  method,\r\n  setMethod,\r\n  ingredientsList,\r\n  setIngredientsList,\r\n  stepsList,\r\n  setStepsList,\r\n  handleSubmit }) {\r\n\r\n  const handleFileAttach = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  }\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const handleMethodChange = (e) => {\r\n    setMethod(e.target.value);\r\n  }\r\n\r\n  const handleIngredientChange = (e, i) => {\r\n    const { name, value } = e.target;\r\n    const list = [...ingredientsList];\r\n    list[i][name] = value;\r\n    setIngredientsList(list);\r\n  }\r\n\r\n  const handleIngredientRemove = (i) => {\r\n    const list = [...ingredientsList];\r\n    list.splice(i, 1);\r\n    setIngredientsList(list);\r\n  }\r\n\r\n  const handleAddIngredient = () => {\r\n    setIngredientsList([...ingredientsList, { ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n  }\r\n\r\n  const handleStepsChange = (e, i) => {\r\n    const { value } = e.target;\r\n    const list = [...stepsList];\r\n    list[i] = value;\r\n    setStepsList(list);\r\n  }\r\n\r\n  const handleStepsRemove = (i) => {\r\n    const list = [...stepsList];\r\n    list.splice(i, 1);\r\n    setStepsList(list);\r\n  }\r\n\r\n  const handleAddStep = () => {\r\n    setStepsList([...stepsList, \"\"]);\r\n  }\r\n\r\n  return (\r\n    <Form id='recipe-form' className='d-flex flex-column' style={{border: \"solid 1px rgba(0,0,0,0.3)\", borderRadius: \"0.3em\", padding: \"1em\"}} \r\n      onSubmit={handleSubmit}>\r\n\r\n        <Form.Group>\r\n          <Form.Label className='new-rec-label'>Drink Name:</Form.Label>\r\n          <Form.Control name='name' placeholder=\"Enter a name for your drink\" spellCheck=\"false\" value={name} onChange={handleNameChange} required/>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group >\r\n          <Form.Label className='new-rec-label'>Method:</Form.Label>\r\n          <Form.Control name='method' placeholder=\"Enter the preparation method\" value={method} onChange={handleMethodChange} required/>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group controlId=\"formFile\">\r\n          <Form.Label className='new-rec-label'>Upload an image:</Form.Label>\r\n          <Form.Control type=\"file\" name=\"image\" onChange={handleFileAttach} />\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <div>\r\n          <Form.Label className='new-rec-label'>Ingredients:</Form.Label>\r\n          <p style={{marginBottom: \"0.3em\"}}>\r\n            Enter the ingredients used in your recipe. Include the name of the ingredient, the quantity, \r\n            and which measurement system you're using (eg. ml, dash, parts, etc.)\r\n          </p>\r\n          {ingredientsList.map((input, i) => {\r\n            return (\r\n              <div key={\"ingredientInput\" + i} className='box'>\r\n                <label className='new-rec-label'>Ingredient{i + 1}</label>\r\n                <input name='ingredient' value={input.ingredient} placeholder='Ingredient name'\r\n                  onChange={(e) => handleIngredientChange(e, i)} required/>\r\n                <input name='quantity' value={input.quantity} type={\"number\"} placeholder='?'\r\n                  onChange={(e) => handleIngredientChange(e, i)} required/>\r\n                <input name='measure' value={input.measure} placeholder='Measure'\r\n                  onChange={(e) => handleIngredientChange(e, i)} required/>\r\n                {ingredientsList.length > 1 && <Button variant='danger' style={{alignSelf: \"flex-end\"}}\r\n                  onClick={() => handleIngredientRemove(i)} >Remove</Button>}\r\n              </div>\r\n            );\r\n          })}\r\n          <Button variant='success' onClick={handleAddIngredient}>Add Ingredient</Button>\r\n        </div>\r\n\r\n        <hr/>\r\n\r\n        <div>\r\n          <Form.Label className='new-rec-label'>Recipe instructions:</Form.Label>\r\n          <p style={{marginBottom: \"0.3em\"}}>\r\n            Explain step by step how to prepare your drink.\r\n          </p>\r\n          {stepsList.map((input, i) => {\r\n            return (\r\n              <div key={\"stepsInput\" + i} className='box'>\r\n                <label className='new-rec-label'>Step{i + 1}</label>\r\n                <textarea name='step' value={input} placeholder='Write instructions here' style={{width: \"100%\"}}\r\n                  onChange={(e) => handleStepsChange(e, i)} required/>\r\n                {stepsList.length > 1 && <Button variant='danger' style={{alignSelf: \"flex-end\"}}\r\n                  onClick={() => handleStepsRemove(i)} >Remove</Button>}\r\n              </div>\r\n            );\r\n          })}\r\n          <Button variant='success' onClick={handleAddStep}>Add Step</Button>\r\n        </div>\r\n\r\n        <hr/>\r\n\r\n        <Button variant='success' type='submit'>Submit</Button>\r\n\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default RecipeForm","import React, { useContext, useEffect, useState } from 'react'\r\nimport { deleteImage, recipeImageUpload } from '../utils/imageMangement';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport getToken from '../utils/getToken';\r\nimport PageLoader from '../components/PageLoader';\r\nimport RecipeForm from '../components/RecipeForm';\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction NewRecipe() {\r\n\r\n  const { recipesList, setRecipesList } = useContext(RecipesContext);\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [ingredientsList, setIngredientsList] = useState([{ ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n  const [stepsList, setStepsList] = useState([\"\"]);\r\n  const [name, setName] = useState(\"\");\r\n  const [method, setMethod] = useState(\"\");\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [mount, setMount] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n  }, [])\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const token = getToken();\r\n    if (token) {\r\n      const image = await recipeImageUpload(selectedFile);\r\n      if (!image.error) {\r\n        const recipeObject = { \r\n          name: name,\r\n          method: method,\r\n          ingredients: ingredientsList, \r\n          instructions: stepsList, \r\n          image: image,\r\n        };\r\n        try {\r\n          const myHeaders = new Headers();\r\n          myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n          myHeaders.append(\"Content-Type\", \"application/json\");\r\n          const toSubmit = JSON.stringify(recipeObject);\r\n          const reqOptions = {\r\n            method: \"POST\",\r\n            headers: myHeaders,\r\n            body: toSubmit,\r\n          }\r\n          const response = await fetch(baseURL + \"/api/recipes/new-recipe\", reqOptions);\r\n          const result = await response.json();\r\n          if (!result.error) {\r\n            resetForm();\r\n            setRecipesList([result].concat(recipesList));\r\n            user.posted_recipes.push(result._id);\r\n            setUser(user);\r\n            setLoading(false);\r\n            alert(\"Recipe added to the collection!\")\r\n          } else {\r\n            if (image.public_id) {\r\n              deleteImage(image);\r\n            }\r\n            setLoading(false);\r\n            alert(\"Something went wrong adding recipe to collection: \" + result.error)\r\n          }\r\n        } catch (error) {\r\n          if (image.public_id) {\r\n            deleteImage(image);\r\n          }\r\n          setLoading(false);\r\n          alert(\"Something went wrong adding recipe to collection: \" + error)\r\n        }\r\n      } else {\r\n        setLoading(false);\r\n        alert(\"Error uploading image\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function resetForm() {\r\n    setIngredientsList([{ ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n    setStepsList([\"\"]);\r\n    setName(\"\");\r\n    setMethod(\"\");\r\n    setSelectedFile(null);\r\n    const recipeForm = document.getElementById('recipe-form');\r\n    recipeForm.reset();\r\n  }\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <div className='simple-display'>\r\n        {loading && <PageLoader/>}\r\n        <h1 className='page-title'>New Recipe</h1>\r\n        <div style={{textAlign: \"center\", background: \"rgba(148,211,51,0.3)\", color: \"#1b8f47\", padding: \"0.5em\", borderRadius: \"1em\", width: \"80%\"}}>\r\n          <q>I've come up with a new recipeeh!</q> - Ignis Scientia\r\n        </div>\r\n\r\n        <RecipeForm setSelectedFile={setSelectedFile} name={name} setName={setName} method={method} setMethod={setMethod} ingredientsList={ingredientsList} \r\n          setIngredientsList={setIngredientsList} stepsList={stepsList} setStepsList={setStepsList} handleSubmit={handleSubmit} />\r\n\r\n      </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default NewRecipe","import { useEffect, useState } from 'react'\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction useRecipeFetch(id) {\r\n  const [recipe, setRecipe] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [comments, setComments] = useState([]);\r\n\r\n  const getRecipe = async() => {\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/recipes/recipe/\" + id);\r\n      const result = await response.json();\r\n      if (result.name) {\r\n        setRecipe(result);\r\n        setComments(result.comments);\r\n      } else {\r\n        setRecipe({ error: \"Recipe not found\" })\r\n      }\r\n      setLoading(false);\r\n    } catch(error) {\r\n      setError(error)\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n      getRecipe();\r\n      console.log(recipe);\r\n  }, [id]);\r\n\r\n  return ({ recipe, comments, setComments, loading, setLoading, error })\r\n}\r\n\r\nexport default useRecipeFetch","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { formatImageThumb } from '../utils/JSFunctions'\r\n\r\nfunction SeeUserLink({ user }) {\r\n  const formattedPicture = formatImageThumb(user.profile_picture.url);\r\n\r\n  return (\r\n    <Link className='d-flex gap-2' style={{ textDecoration: \"none\" }}\r\n    to={'/view-user/' + user._id} >\r\n      <img src={formattedPicture} alt=\"Recipe Author\" className='thumbnail-image'/>\r\n      <h5 className='account-mini-title'>{user.username}</h5>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default SeeUserLink","import React, { useContext } from 'react'\r\nimport getToken from '../utils/getToken';\r\nimport Card from 'react-bootstrap/Card';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport SeeUserLink from './SeeUserLink';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction CommentCard({ comment, comments, setComments, recipe }) {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const deleteComment = async() => {\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        const body = JSON.stringify({ comment: comment, recipePoster: recipe.posted_by });\r\n        const reqOptions = {\r\n          method: \"PATCH\",\r\n          headers: myHeaders,\r\n          body: body\r\n        }\r\n        const response = await fetch(baseURL + \"/api/recipes/delete-comment/\" + recipe._id, reqOptions);\r\n        const result = await response.json();\r\n        console.log(result);\r\n        setComments(comments.filter((item) => item._id !== comment._id));\r\n      } catch(error) {\r\n        console.log(error);\r\n        alert(\"It clings to existence. Try again?\")\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <Card style={{ width: '100%' }} className='mb-3'>\r\n    <Card.Body>\r\n      <Card.Title style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n        <SeeUserLink user={ comment.posted_by } />\r\n        {user && <>\r\n          {(user._id === comment.posted_by._id || user._id === recipe.posted_by._id) && \r\n            <Button variant=\"danger\" size=\"sm\" onClick={deleteComment}>\r\n              <Icon.Trash title='Delete Recipe' style={{fontSize: \"large\"}}/>\r\n            </Button>}\r\n        </>}\r\n      </Card.Title>\r\n      <Card.Subtitle className=\"mb-2 text-muted\">\r\n        { formatDistanceToNow(new Date(comment.createdAt), { addSuffix: true }) }\r\n      </Card.Subtitle>\r\n      <Card.Text>\r\n        {comment.comment}\r\n      </Card.Text>\r\n    </Card.Body>\r\n  </Card>\r\n\r\n  )\r\n}\r\n\r\nexport default CommentCard","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport useRecipeFetch from '../hooks/useRecipeFetch';\r\nimport PageLoader from '../components/PageLoader'\r\nimport CommentCard from '../components/CommentCard';\r\nimport getToken from '../utils/getToken';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport SeeUserLink from '../components/SeeUserLink';\r\nimport FavouriteButton from '../components/FavouriteButton';\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport Card from 'react-bootstrap/Card';\r\nimport DeleteButton from '../components/DeleteButton';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction ViewRecipe() {\r\n  const { user } = useContext(AuthContext);\r\n  const [mount, setMount] = useState(false);\r\n  const { _id } = useParams();\r\n  const { recipe, comments, setComments, loading, error } = useRecipeFetch(_id);\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  const handleTextChange = (e) => {\r\n    setCommentText(e.target.value);\r\n  }\r\n\r\n  const handleSubmitComment = async(e) => {\r\n    e.preventDefault();\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        const body = JSON.stringify({comment: commentText});\r\n        const reqOptions = {\r\n          method: \"POST\",\r\n          headers: myHeaders,\r\n          body: body\r\n        }\r\n        const response = await fetch(baseURL + \"/api/recipes/add-comment/\" + recipe._id, reqOptions);\r\n        const result = await response.json();\r\n        const newComment = result.comments[result.comments.length - 1];\r\n        setComments([...comments, { \r\n          comment: newComment.comment,\r\n          createdAt: newComment.createdAt,\r\n          updatedAt: newComment.updatedAt,\r\n          _id: newComment._id,\r\n          posted_by: {\r\n            username: user.username,\r\n            _id: user._id,\r\n            profile_picture: {\r\n              url: user.profile_picture.url\r\n            }\r\n          }\r\n         }]);\r\n        setCommentText(\"\");\r\n      } catch(error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n  }, [])\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n    <div className='simple-display'>\r\n      {loading && <PageLoader/>}\r\n      {error && <p>{error}</p>}\r\n      {recipe.error && <p>{recipe.error}</p>}\r\n      {(!error && recipe.name) &&\r\n        <>\r\n          <Card style={{maxWidth: \"800px\"}}>\r\n            <Card.Header className='d-flex align-items-center justify-content-between'>\r\n              <Card.Title className='header-title text-center'>\r\n                {recipe.name}\r\n              </Card.Title>\r\n              {(user && user._id !== recipe.posted_by._id) && \r\n                <FavouriteButton recipe={recipe} includeCount={true}/>\r\n              }\r\n              {user && (user._id === recipe.posted_by._id) &&\r\n                <span>\r\n                  <Link to={'/update-recipe'} className='edit-link' state={{ recipe: recipe }} style={{marginRight: \"0.5em\"}}>\r\n                    <Icon.Pencil style={{fontSize: \"large\"}} title='Edit Recipe' />\r\n                  </Link>\r\n                  <DeleteButton toDelete={recipe} redirect={true} />\r\n                </span>\r\n              }\r\n            </Card.Header>\r\n\r\n            <Card.Img src={recipe.image.url} alt={recipe.name}/>\r\n\r\n            <Card.Header className='d-flex flex-wrap justify-content-center justify-content-sm-between align-items-center gap-3'>\r\n              <div>\r\n                <SeeUserLink user={ recipe.posted_by }  />\r\n              </div>\r\n              <div className='d-flex flex-column align-items-end'>\r\n                <Card.Subtitle className='text-muted text-right mb-2'>Originally posted: { new Date(recipe.createdAt).toDateString().substring(4) }</Card.Subtitle>\r\n                <Card.Subtitle className='text-muted text-right'>Last updated: { formatDistanceToNow(new Date(recipe.createdAt), { addSuffix: true }) }</Card.Subtitle>\r\n              </div>\r\n            </Card.Header>\r\n\r\n            <Card.Body className='d-flex flex-column'>\r\n\r\n              <Card.Title>Method:</Card.Title>\r\n              <Card.Text>{recipe.method}</Card.Text>\r\n             \r\n              <Card.Title>Ingredients:</Card.Title>\r\n              <ul>\r\n                {recipe.ingredients.map((ingredient) => {\r\n                  return <li key={ingredient._id}>{ingredient.quantity} {ingredient.measure} {ingredient.ingredient}</li>\r\n                })}\r\n              </ul>\r\n\r\n              <Card.Title>Instructions:</Card.Title>\r\n              <ol style={{maxWidth: \"100%\"}}>\r\n                {recipe.instructions.map((step, i) => {\r\n                  return <li key={\"step\"+i}>{step}</li>\r\n                })}\r\n              </ol>\r\n\r\n              <span className='align-self-end'>\r\n                <Icon.HeartFill style={{fontSize: \"large\", color: \"#DE4940\"}}/> Favourited {recipe.favourited_by.length} times\r\n              </span>\r\n\r\n              <Card.Title>Comments:</Card.Title>\r\n              {comments.length === 0 && <p style={{textAlign: \"center\"}}>No comments yet :( </p>}\r\n              {comments.length > 0 && comments.map((comment) => {\r\n                return <CommentCard key={comment._id} comment={comment} comments={comments} setComments={setComments} recipe={recipe} />\r\n              })}\r\n\r\n              <hr/>\r\n\r\n              {user && \r\n                <Form onSubmit={handleSubmitComment}>\r\n                  <Form.Label className='sub-title'>Leave a comment: </Form.Label>\r\n                  <Form.Control className='mb-3' as=\"textarea\" rows={3} value={commentText} onChange={handleTextChange}/>\r\n                  <Button variant='success' type='submit'>Post comment</Button>\r\n                </Form>\r\n              }\r\n              {!user && \r\n                <Form>\r\n                  <Form.Label className='sub-title'>Leave a comment: </Form.Label>\r\n                  <Form.Control className='mb-3' as=\"textarea\" rows={3} placeholder='Only logged-in users can leave comments.' disabled/>\r\n                  <Button disabled variant='success' type='submit'>Post comment</Button>\r\n                </Form>\r\n              }\r\n\r\n            </Card.Body>\r\n\r\n            \r\n          </Card>\r\n        </>}\r\n\r\n      \r\n      \r\n    </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default ViewRecipe","import { useEffect, useState } from 'react'\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction useSingleUserFetch(id) {\r\n  const [userToView, setUserToView] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchById = async() => {\r\n    setLoading(true);\r\n    try{\r\n      const response = await fetch(baseURL + \"/api/users/user/\" + id);\r\n      const result = await response.json();\r\n      if (result.username) {\r\n        setUserToView(result);\r\n      } else {\r\n        setUserToView({ error: \"User not found\" });\r\n      }\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n      alert(\"Problem retrieving user account: \" + error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchById();\r\n  }, [id])\r\n  \r\n\r\n  return ({ userToView, loading, error })\r\n}\r\n\r\nexport default useSingleUserFetch","import React, { useContext, useEffect, useState } from 'react'\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport UserPlainView from '../components/UserPlainView';\r\nimport UserRecipes from '../components/UserRecipes';\r\nimport useSingleUserFetch from '../hooks/useSingleUserFetch';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport PageLoader from '../components/PageLoader';\r\n\r\nfunction ViewUser() {\r\n  const redirect = useNavigate();\r\n  const { user } = useContext(AuthContext);\r\n  const { _id } = useParams();\r\n  const { userToView, loading, error } = useSingleUserFetch(_id);\r\n  const [mount, setMount] = useState(false);\r\n\r\n  const plainDisplay = {\r\n    display: \"flex\"\r\n  }\r\n\r\n  function profileRedirect() {\r\n    if (user && (_id === user._id)) {\r\n          redirect(\"/my-profile\", {replace: true});\r\n        }\r\n  }\r\n  useEffect(() => {\r\n    profileRedirect();\r\n    setMount(true);\r\n  }, [])\r\n \r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <div className='simple-display p-0'>\r\n        {loading && <PageLoader />}\r\n        {userToView.error && <p>{userToView.error}</p>}\r\n        {error && <p>Something went wrong: {error}</p>}\r\n        {(!error && userToView.username) && <>\r\n          <h1 className='page-title'>{userToView.username}'s Profile</h1>\r\n          <div style={{width: \"100%\"}}>\r\n            <Tabs\r\n              defaultActiveKey=\"account\"\r\n              id=\"uncontrolled-tab-example\"\r\n              className=\"mb-3\"\r\n              justify>\r\n\r\n              <Tab eventKey=\"account\" title=\"Account\">\r\n                <h4 className='sub-title' style={{textAlign: \"center\"}}>Account Details</h4>\r\n                <div className='simple-display'>\r\n                  <UserPlainView userToView={userToView} display={plainDisplay} />\r\n                </div>\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"recipes\" title=\"Recipes\" className='test'>\r\n                <UserRecipes userToView={userToView} filter={\"posted\"} />\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"favourites\" title=\"Favourites\">\r\n              <UserRecipes userToView={userToView} filter={\"favourites\"} />\r\n              </Tab>\r\n            </Tabs>\r\n          </div>\r\n        </>}\r\n      </div>\r\n    </Fade>\r\n    \r\n  )\r\n}\r\n\r\nexport default ViewUser","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useLocation } from 'react-router-dom';\r\nimport PageLoader from '../components/PageLoader';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport RecipeForm from '../components/RecipeForm';\r\nimport getToken from '../utils/getToken';\r\nimport { deleteImage, recipeUpdateImage } from '../utils/imageMangement';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction UpdateRecipe() {\r\n  const [loading, setLoading] = useState(true);\r\n  const location = useLocation();\r\n  const { recipe } = location.state;\r\n   \r\n  const [ingredientsList, setIngredientsList] = useState([{ ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n  const [stepsList, setStepsList] = useState([\"\"]);\r\n  const [name, setName] = useState(\"\");\r\n  const [method, setMethod] = useState(\"\");\r\n  const { recipesList, setRecipesList } = useContext(RecipesContext);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n     setIngredientsList(recipe.ingredients);\r\n     setStepsList(recipe.instructions);\r\n     setName(recipe.name);\r\n     setMethod(recipe.method);\r\n     setLoading(false);\r\n  }, [])\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const image = await recipeUpdateImage(selectedFile, recipe.image);\r\n        if (!image.error) {\r\n          const recipeObject = { \r\n            name: name,\r\n            method: method,\r\n            ingredients: ingredientsList, \r\n            instructions: stepsList, \r\n            image: image,\r\n          };\r\n          try {\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const toSubmit = JSON.stringify(recipeObject);\r\n            const reqOptions = {\r\n              method: \"PATCH\",\r\n              headers: myHeaders,\r\n              body: toSubmit\r\n            }\r\n            const response = await fetch(baseURL + \"/api/recipes/update-recipe/\" + recipe._id, reqOptions);\r\n            const result = await response.json();\r\n            if (!result.error) {\r\n              if (selectedFile && recipe.image.public_id) {\r\n                await deleteImage(recipe.image);\r\n              }\r\n              const updateList = recipesList.filter((item) => item._id !== result._id);\r\n              setRecipesList([result].concat(updateList));\r\n              setLoading(false);\r\n              alert(\"Recipe updated!\")\r\n            }\r\n          } catch (error) {\r\n            setLoading(false);\r\n            alert(\"Error updating recipe: \" + error);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        setLoading(false);\r\n        alert(\"Error uploading image: \" + error);\r\n      }\r\n    } else {\r\n      alert(\"No user token?\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='simple-display'>\r\n      {loading && <PageLoader/>}\r\n      <h1 className='page-title'>Edit Recipe</h1>\r\n      {recipe && \r\n        <RecipeForm setSelectedFile={setSelectedFile} name={name} setName={setName} method={method} setMethod={setMethod} ingredientsList={ingredientsList} \r\n          setIngredientsList={setIngredientsList} stepsList={stepsList} setStepsList={setStepsList} handleSubmit={handleSubmit} />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateRecipe","import React from 'react'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\n\r\nfunction ReturnToTop() {\r\n\r\n  function scrollFunction() {\r\n    const button = document.getElementById(\"scroll-button\");\r\n    if (document.body.scrollTop > 120 || document.documentElement.scrollTop > 120) {\r\n      button.style.display = \"block\";\r\n    } else {\r\n      button.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  window.onscroll = () => scrollFunction();\r\n\r\n  const topFunction = () => {\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n  }\r\n\r\n  return (\r\n    <Button variant='warning' id='scroll-button' title='Return to the top' onClick={topFunction}>\r\n      <Icon.ArrowUp style={{ fontSize: \"x-large\", color: \"white\" }} />\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default ReturnToTop","import React from 'react';\nimport { Route, Routes } from \"react-router-dom\";\nimport NavBar from './components/NavBar';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Home from './views/Home';\nimport LaunchPage from './views/LaunchPage';\nimport Login from './views/Login';\nimport MyProfile from './views/MyProfile';\nimport SignUp from './views/SignUp';\nimport NewRecipe from './views/NewRecipe';\nimport ViewRecipe from './views/ViewRecipe';\nimport ViewUser from './views/ViewUser';\nimport UpdateRecipe from './views/UpdateRecipe';\nimport ReturnToTop from './components/ReturnToTop';\n\nfunction App() {\n  return (\n    <>\n      <NavBar />\n      <ReturnToTop />\n      <Routes>\n        <Route path='*' element={ <LaunchPage/> } />\n        <Route path='/' element={ <LaunchPage/> } />\n        <Route path='/home' element={ <Home/> } />\n        <Route path='/login' element={ <Login/> } />\n        <Route path='/sign-up' element={ <SignUp/> } />\n        <Route path='/my-profile' element={ <ProtectedRoute> <MyProfile/> </ProtectedRoute> } />\n        <Route path='/new-recipe' element={ <ProtectedRoute> <NewRecipe/> </ProtectedRoute> } />\n        <Route path='/update-recipe' element={ <ProtectedRoute> <UpdateRecipe/> </ProtectedRoute> } />\n        <Route path='/view-recipe/:_id' element={ <ViewRecipe/> } />\n        <Route path='/view-user/:_id' element={ <ViewUser/> } />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './css/index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { AuthContextProvider } from './context/AuthContext';\nimport { RecipesContextProvider } from './context/RecipesContext';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <AuthContextProvider>\n        <RecipesContextProvider>\n          <App />\n        </RecipesContextProvider>\n      </AuthContextProvider>\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}