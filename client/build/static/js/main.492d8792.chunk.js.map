{"version":3,"sources":["components/DrinkCard.js","components/NavBar.js","components/ProtectedRoute.js","components/PlaceholderCard.js","components/SortSelector.js","components/SearchForm.js","views/Home.js","views/LaunchPage.js","components/PasswordInput.js","views/Login.js","components/UserPlainView.js","components/MyAccount.js","components/UserRecipes.js","views/MyProfile.js","views/SignUp.js","components/RecipeForm.js","views/NewRecipe.js","hooks/useRecipeFetch.js","components/SeeUserLink.js","components/CommentCard.js","views/ViewRecipe.js","hooks/useSingleUserFetch.js","views/ViewUser.js","views/UpdateRecipe.js","components/ReturnToTop.js","App.js","index.js","context/AuthContext.js","utils/JSFunctions.js","utils/getToken.js","components/PageLoader.js","context/RecipesContext.js","utils/imageMangement.js","utils/getServerURL.js","components/DeleteButton.js","utils/favouritesManagement.js","components/FavouriteButton.js"],"names":["DrinkCard","_ref","drink","user","useContext","AuthContext","formattedPicture","formatImage500px","image","url","_useState","useState","_useState2","Object","C_Users_emily_Documents_Code_Academy_module_2_MERN_Cocktail_Menu_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","floats","setFloats","useEffect","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","react_bootstrap_Card__WEBPACK_IMPORTED_MODULE_3__","style","maxWidth","Img","variant","src","alt","name","ImgOverlay","className","Fragment","_id","posted_by","_FavouriteButton_js__WEBPACK_IMPORTED_MODULE_9__","recipe","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","state","marginRight","react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_7__","fontSize","_DeleteButton_js__WEBPACK_IMPORTED_MODULE_10__","toDelete","redirect","Header","bg","Title","Subtitle","formatDistanceToNow","Date","createdAt","addSuffix","Body","method","ingredients","map","ingredient","i","arr","length","key","displayNicely","react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_8__","color","favourited_by","NavBar","_useContext","logout","slicedToArray","mount","setMount","_useState3","_useState4","expanded","setExpanded","react_default","Fade","in","href","title","Navbar","expand","Toggle","onClick","aria-controls","Collapse","id","Nav","as","Item","react_router_dom_dist","formatImageThumb","profile_picture","NavLink","ProtectedRoute","children","useNavigate","Button","size","replace","PlaceholderCard","Card","Placeholder","animation","xs","Text","SortSelector","searchResult","setSearchResult","RecipesContext","recipesList","setRecipesList","sort","setSort","Form","Select","defaultValue","onChange","e","target","value","b","updatedAt","methodA","toLowerCase","methodB","SearchForm","searchInput","setSearchInput","submitSearch","clearSearch","handleSearchInputChanges","objectSpread","defineProperty","trim","onSubmit","Label","Control","type","React","lazy","Promise","resolve","then","__webpack_require__","bind","Home","_useContext2","loading","error","_useState5","_useState6","_useState7","_useState8","show","setShow","handleClose","preventDefault","JSON","stringify","filterResult","filter","includes","some","alert","PageLoader","react","fallback","components_PlaceholderCard","components_SortSelector","arrow_bar_right","components_SearchForm","Offcanvas","placement","onHide","closeButton","LaunchPage","navigate","test","document","getElementById","setTimeout","classList","add","PasswordInput","handleChanges","PWinvalid","styling","textStyling","placeholder","passwordVisibility","setPasswordVisibility","showOrHide","setShowOrHide","InputGroup","hasValidation","isInvalid","autoComplete","required","Feedback","muted","Login","login","inputInfo","setInputInfo","setPWinvalid","passwordValidation","password","stopPropagation","FloatingLabel","controlId","label","width","components_PasswordInput","marginTop","username","UserPlainView","userToView","display","formatProfileImage500px","date","toDateString","substring","border","borderRadius","concat","email","posted_recipes","description","MyAccount","setLoading","setUser","editMode","setEditMode","showModal","setShowModal","inputs","setInputs","hideOnEdit","setHideOnEdit","_useState9","_useState10","setUsername","_useState11","_useState12","setEmail","_useState13","_useState14","selectedFile","setSelectedFile","_useState15","_useState16","newPassword","setNewPassword","_useState17","_useState18","oldPassword","setOldPassword","_useState19","_useState20","newPWinvalid","setNewPWinvalid","_useState21","_useState22","oldPWinvalid","setOldPWinvalid","_useState23","_useState24","desc","setDesc","handleEditSwitch","handleUsernameClick","_ref2","asyncToGenerator","_regeneratorRuntime","mark","_callee","trimmed","wrap","_context","prev","next","window","confirm","updateUser","stop","apply","this","arguments","handleEmailClick","_ref3","_callee2","_context2","emailValidation","handleFileClick","_ref4","_callee3","_context3","public_id","deleteImage","uploadImage","baseURL","sent","querySelector","handleOldPWClick","_ref5","_callee4","result","_context4","verifyAndUpdatePassword","abrupt","t0","console","log","_ref6","_callee5","token","myHeaders","reqBody","reqOptions","response","_context5","getToken","Headers","append","old_password","new_password","headers","body","fetch","json","handleDescClick","_ref7","_callee6","message","_context6","_ref8","_callee7","item","toUpdate","_context7","_x","inputDisplay","flexDirection","alignItems","plainDisplay","padding","paddingBottom","pencil_square","components_UserPlainView","Group","files","verticalAlign","pencil","rows","colSpan","textAlign","Modal","Footer","UserRecipes","userList","setUserList","components_DrinkCard","MyProfile","Tabs","defaultActiveKey","justify","Tab","eventKey","components_MyAccount","components_UserRecipes","SignUp","signUp","SignUp_regeneratorRuntime","newUser","signUpImageUpload","autoCorrect","margin","RecipeForm","setName","setMethod","ingredientsList","setIngredientsList","stepsList","setStepsList","handleSubmit","handleIngredientChange","_e$target","list","toConsumableArray","spellCheck","marginBottom","input","quantity","measure","alignSelf","splice","handleIngredientRemove","handleStepsChange","handleStepsRemove","NewRecipe","NewRecipe_regeneratorRuntime","recipeObject","toSubmit","recipeImageUpload","instructions","reset","push","background","components_RecipeForm","useRecipeFetch","setRecipe","setError","comments","setComments","getRecipe","useRecipeFetch_regeneratorRuntime","SeeUserLink","textDecoration","CommentCard","comment","deleteComment","CommentCard_regeneratorRuntime","recipePoster","justifyContent","components_SeeUserLink","trash","ViewRecipe","useParams","_useRecipeFetch","commentText","setCommentText","handleSubmitComment","ViewRecipe_regeneratorRuntime","newComment","FavouriteButton","includeCount","DeleteButton","step","heart_fill","components_CommentCard","disabled","useSingleUserFetch","setUserToView","fetchById","useSingleUserFetch_regeneratorRuntime","ViewUser","_useSingleUserFetch","UpdateRecipe","useLocation","UpdateRecipe_regeneratorRuntime","updateList","recipeUpdateImage","t1","ReturnToTop","onscroll","button","scrollTop","documentElement","scrollFunction","arrow_up","App","components_NavBar","components_ReturnToTop","dist","path","element","views_LaunchPage","views_Home","views_Login","views_SignUp","components_ProtectedRoute","views_MyProfile","views_NewRecipe","views_UpdateRecipe","views_ViewRecipe","views_ViewUser","ReactDOM","createRoot","render","StrictMode","src_App","createContext","AuthContextProvider","props","C_Users_emily_Documents_Code_Academy_module_2_MERN_Cocktail_Menu_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","checkForUser","getUser","C_Users_emily_Documents_Code_Academy_module_2_MERN_Cocktail_Menu_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","userLogin","localStorage","setItem","_x2","react__WEBPACK_IMPORTED_MODULE_2___default","Provider","removeItem","string","match","final","charAt","toUpperCase","imageURL","sliceImageURL","insert","uploadIndex","indexOf","slice","checkIf","ID","array","toString","resetSubArray","comparisonId","index","findIndex","d","__webpack_exports__","getItem","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_bootstrap_Spinner__WEBPACK_IMPORTED_MODULE_1__","position","top","left","height","backgroundColor","zIndex","role","RecipesContextProvider","fetchAllRecipes","data","deleteRecipe","handleDeleteRecipe","deleted","msg","imageData","file","formData","FormData","_x3","_x4","original","_x5","_x6","_x7","process","redirectOnDelete","redirectHome","_PageLoader_js__WEBPACK_IMPORTED_MODULE_6__","react_bootstrap_esm_Button__WEBPACK_IMPORTED_MODULE_3__","react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_4__","addFavourite","removeFavourite","poster","setPoster","alreadyFavourite","setAlreadyFavourite","favCount","setFavCount","handleAddFav","FavouriteButton_regeneratorRuntime","thisRecipeIndex","favourite_recipes","handleRemoveFav","heart"],"mappings":"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","file":"static/js/main.492d8792.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { displayNicely, formatImage500px } from '../utils/JSFunctions';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { Link } from 'react-router-dom';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport FavouriteButton from './FavouriteButton.js';\r\nimport DeleteButton from './DeleteButton.js';\r\n\r\nfunction DrinkCard({ drink }) {\r\n  const { user } = useContext(AuthContext);\r\n  const formattedPicture = formatImage500px(drink.image.url)\r\n  const [floats, setFloats] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setFloats('d-flex flex-column align-items-end justify-content-between');\r\n    }\r\n    if (!user) {\r\n      setFloats('d-flex flex-column align-items-end justify-content-end')\r\n    }\r\n  }, [user])\r\n  \r\n\r\n  return (\r\n    <Card style={{maxWidth: \"325px\"}}>\r\n      <Card.Img variant='top' src={formattedPicture} alt={drink.name} />\r\n      <Card.ImgOverlay className={floats}>\r\n        <>\r\n        {user && (user._id !== drink.posted_by) &&\r\n          <FavouriteButton recipe={drink} />\r\n        }\r\n        {user && (user._id === drink.posted_by) &&\r\n            <span>\r\n              <Link to={'/update-recipe'} className='edit-link' state={{ recipe: drink }} style={{marginRight: \"0.5em\"}}>\r\n                <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n              </Link>\r\n              <DeleteButton toDelete={drink} redirect={false} />\r\n            </span>\r\n        }\r\n        </>\r\n      <Link className='view-link-button' to={'/view-recipe/' + drink._id} >\r\n          View full recipe\r\n      </Link>\r\n      </Card.ImgOverlay>\r\n\r\n      <Card.Header bg=\"white\" className='d-flex flex-wrap align-items-center justify-content-between'>\r\n          <Card.Title className='header-title'>{drink.name}</Card.Title>\r\n          <Card.Subtitle className=\"text-muted\">\r\n            { formatDistanceToNow(new Date(drink.createdAt), { addSuffix: true }) }\r\n          </Card.Subtitle>\r\n      </Card.Header>\r\n      \r\n      <Card.Body>\r\n        <p>\r\n          <strong className='sub-title'>Method: </strong>{drink.method}\r\n        </p>\r\n        <p>\r\n          <strong className='sub-title'>Ingredients: </strong>\r\n          {drink.ingredients.map((ingredient, i, arr) => {\r\n            if (i + 1 === arr.length) {\r\n              return <React.Fragment key={i}>{displayNicely(ingredient.ingredient)}</React.Fragment>\r\n            } else {\r\n               return <React.Fragment key={i}>{displayNicely(ingredient.ingredient)}, </React.Fragment>\r\n            }\r\n          })}\r\n        </p>\r\n        <div>\r\n          <Icon.HeartFill style={{fontSize: \"large\", color: \"#DE4940\"}}/> Favourited by  {drink.favourited_by.length} mixologists\r\n        </div>\r\n        <br/>\r\n        <br/>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default DrinkCard","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport '../css/launch&nav.css';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { formatImageThumb } from '../utils/JSFunctions';\r\nimport Fade from 'react-bootstrap/Fade';\r\n\r\nfunction NavBar() {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const [mount, setMount] = useState(false);\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  function handleLogout () {\r\n    logout();\r\n    setExpanded(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n      setMount(true);\r\n  }, [])\r\n  \r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <header className='header-container'>\r\n        <a href='/'>\r\n          <img src=\"https://res.cloudinary.com/cocktail-recipes/image/upload/v1666457159/assets/lemon_wnjxh9.png\" \r\n            alt='Lemon Drop'\r\n            title='Lemon Drop'\r\n            className='header-image'/>\r\n        </a>\r\n        <h4 className='header-title'>lemon drop recipes</h4>\r\n        <Navbar expanded={expanded} bg=\"white\" expand=\"sm\" className='nav-container justify-content-center'>\r\n          <Navbar.Toggle onClick={() => setExpanded(!expanded)} aria-controls=\"basic-navbar-nav\"/>\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className='mx-auto align-items-sm-baseline gap-3' as=\"ul\">\r\n              {!user && \r\n                <>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/home\" className=\"nav-link\">Home</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/login\" className=\"nav-link\">Login</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/sign-up\" className=\"nav-link\">Sign up</NavLink>\r\n                  </Nav.Item>\r\n                </>\r\n              }\r\n              {user && \r\n                <>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/my-profile\" className=\"nav-link\">\r\n                      <img src={formatImageThumb(user.profile_picture.url)} alt={\"My profile\"} className=\"nav-thumb\" />\r\n                      Profile\r\n                    </NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} as={NavLink} to=\"/home\" className=\"nav-link\">Home</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <NavLink onClick={() => setExpanded(false)} to=\"/new-recipe\" className=\"nav-link\">Submit</NavLink>\r\n                  </Nav.Item>\r\n                  <Nav.Item as=\"li\">\r\n                    <Link onClick={handleLogout} className=\"nav-link\">Logout</Link>\r\n                  </Nav.Item>\r\n                </>\r\n              }\r\n            </Nav>\r\n            \r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n\r\n\r\n\r\n      </header>\r\n    </Fade>\r\n\r\n  )\r\n}\r\n\r\nexport default NavBar","import React, { useContext } from 'react'\r\nimport Button from 'react-bootstrap/esm/Button.js';\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ children }) {\r\n  const { user } = useContext(AuthContext);\r\n  const redirect = useNavigate();\r\n\r\n  const handleClick = () => {\r\n    redirect(\"/login\", {replace: true});\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user ? children : \r\n        <div className='simple-display'>\r\n          <p className='text-center'>Access to this page is restricted to logged-in users.</p>\r\n          <Button size=\"lg\" variant=\"success\" onClick={handleClick}>Login?</Button>\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\nimport Placeholder from 'react-bootstrap/Placeholder';\r\n\r\nfunction PlaceholderCard() {\r\n  return (\r\n    <Card style={{maxWidth: \"325px\"}}>\r\n      <Card.Img variant=\"top\" src=\"https://res.cloudinary.com/cocktail-recipes/image/upload/v1666878764/assets/placeholder_m3n8ad.png\" alt=\"Loading\" />\r\n      <Card.Body className='d-flex flex-column'>\r\n        <Placeholder as={Card.Title} animation=\"glow\">\r\n          <Placeholder xs={6} />\r\n        </Placeholder>\r\n        <Placeholder as={Card.Text} animation=\"glow\">\r\n          <Placeholder xs={7} /> <Placeholder xs={4} /> <Placeholder xs={4} />{' '}\r\n          <Placeholder xs={6} /> <Placeholder xs={8} />\r\n        </Placeholder>\r\n        <br/>\r\n        <Placeholder.Button variant=\"outline-success\" xs={6} className='align-self-end pt-3'/>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default PlaceholderCard","import React, { useContext } from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\n\r\nfunction SortSelector({ searchResult, setSearchResult }) {\r\n  const { recipesList, setRecipesList, sort, setSort } = useContext(RecipesContext);\r\n\r\n  const handleOnChange = (e) => {\r\n    setSort(e.target.value);\r\n    if (e.target.value === \"newest\") {\r\n      setRecipesList(recipesList.sort((a, b) => (new Date(a.createdAt) < new Date(b.createdAt) ? 1 : -1)));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (new Date(a.createdAt) < new Date(b.createdAt) ? 1 : -1)));\r\n      }\r\n    }\r\n    if (e.target.value === \"oldest\") {\r\n      setRecipesList(recipesList.sort((a, b) => (new Date(a.createdAt) > new Date(b.createdAt) ? 1 : -1)));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (new Date(a.createdAt) > new Date(b.createdAt) ? 1 : -1)));\r\n      }\r\n    }\r\n    if (e.target.value === \"popular\") {\r\n      setRecipesList(recipesList.sort((a, b) => (a.favourited_by.length < b.favourited_by.length) ? 1 : -1));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (a.favourited_by.length < b.favourited_by.length) ? 1 : -1));\r\n      }\r\n    }\r\n    if (e.target.value === \"recently-updated\") {\r\n      setRecipesList(recipesList.sort((a, b) => (new Date(a.updatedAt) < new Date(b.updatedAt) ? 1 : -1)));\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => (new Date(a.updatedAt) < new Date(b.updatedAt) ? 1 : -1)))\r\n      }\r\n    }\r\n    if (e.target.value === \"method\") {\r\n      setRecipesList(recipesList.sort((a, b) => {\r\n        const methodA = a.method.toLowerCase();\r\n        const methodB = b.method.toLowerCase();\r\n        if (methodA < methodB) {\r\n          return -1\r\n        } else if (methodA > methodB) {\r\n          return 1\r\n        } else {\r\n          return 0\r\n        }\r\n      }))\r\n      if (searchResult) {\r\n        setSearchResult(searchResult.sort((a, b) => {\r\n          const methodA = a.method.toLowerCase();\r\n          const methodB = b.method.toLowerCase();\r\n          if (methodA < methodB) {\r\n            return -1\r\n          } else if (methodA > methodB) {\r\n            return 1\r\n          } else {\r\n            return 0\r\n          }\r\n        }))\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <label>Sort by:</label>\r\n      <Form.Select defaultValue={sort} onChange={handleOnChange}>\r\n        <option value={\"newest\"}>Newest</option>\r\n        <option value={\"oldest\"}>Oldest</option>\r\n        <option value={\"popular\"}>Popular</option>\r\n        <option value={\"recently-updated\"}>Recently Updated</option>\r\n        <option value={\"method\"}>Method</option>\r\n      </Form.Select>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default SortSelector","import React from 'react'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nfunction SearchForm({ searchInput, setSearchInput, searchResult, submitSearch, clearSearch }) {\r\n\r\n  const handleSearchInputChanges = (e) => {\r\n    setSearchInput({ ...searchInput, [e.target.name]: e.target.value.trim().toLowerCase()});\r\n  }\r\n\r\n  return (\r\n    <Card className='mt-4'>\r\n      <Card.Body>\r\n        <h5>Search:</h5>\r\n        <Form onSubmit={submitSearch}>\r\n          <Form.Text className='text-muted'>\r\n            Fill out one or more fields and our faeries will find the best matches.\r\n          </Form.Text>\r\n          <br/>\r\n          <Form.Label>Drink Name:</Form.Label>\r\n          <Form.Control className='mb-2' type='text' value={searchInput.name} name='name' onChange={handleSearchInputChanges} />\r\n          <Form.Label>Method:</Form.Label>\r\n          <Form.Control className='mb-2' type='text' value={searchInput.method} name='method' onChange={handleSearchInputChanges} />\r\n          <Form.Label>Includes ingredient:</Form.Label>\r\n          <Form.Control type='text' name='ingredient' value={searchInput.ingredient} onChange={handleSearchInputChanges} />\r\n          <Form.Text className='text-muted'>Please only type one ingredient</Form.Text>\r\n          <br/>\r\n          <Button className='mb-3 mt-3' variant='success' type='submit'>Search</Button>\r\n          {searchResult && <Button className='mb-3 ms-3 mt-3' variant='warning' onClick={clearSearch}>Clear Search</Button>}\r\n        </Form>\r\n      </Card.Body>\r\n  </Card>\r\n  )\r\n}\r\n\r\nexport default SearchForm","import React, { Suspense, useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport PageLoader from '../components/PageLoader';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport PlaceholderCard from '../components/PlaceholderCard';\r\nimport SortSelector from '../components/SortSelector';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport Offcanvas from 'react-bootstrap/Offcanvas';\r\nimport SearchForm from '../components/SearchForm';\r\nconst DrinkCard =React.lazy(() => import('../components/DrinkCard'));\r\n\r\nfunction Home() {\r\n  const { user } = useContext(AuthContext);\r\n  const { recipesList, loading, error } = useContext(RecipesContext);\r\n  const [searchInput, setSearchInput] = useState({ name: \"\", method: \"\", ingredient: \"\" });\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [mount, setMount] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const submitSearch = (e) => {\r\n    e.preventDefault();\r\n    if (JSON.stringify(searchInput) !== JSON.stringify({ name: \"\", method: \"\", ingredient: \"\" })) {\r\n      const filterResult = recipesList.filter((e) => {\r\n      return (\r\n        e.name.toLowerCase().includes(searchInput.name)\r\n        && e.method.toLowerCase().includes(searchInput.method)\r\n        && e.ingredients.some(i => i.ingredient.toLowerCase().includes(searchInput.ingredient.trim().toLowerCase()))\r\n        )\r\n      })\r\n      setSearchResult(filterResult);\r\n      handleClose();\r\n    } else {\r\n      alert(\"You must fill in at least one search field\")\r\n    }\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    setSearchResult(null);\r\n    setSearchInput({ name: \"\", method: \"\", ingredient: \"\" });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n  }, [])\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <div className='page-grid-4-1'>\r\n        {loading && <PageLoader/>}\r\n        {recipesList.length === 0 && <p>Looks like there's no recipes :(</p>}\r\n        {error && <p>Something went wrong: {error}</p>}\r\n\r\n        <div className='d-flex flex-column align-items-center'>\r\n          <div className='cards-container mb-3'>\r\n            {(recipesList && !searchResult) && <>\r\n              {recipesList.map((drink) => {\r\n                return (\r\n                  <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                    <DrinkCard drink={drink} />\r\n                  </Suspense>\r\n                )\r\n              })}\r\n            </>}\r\n            {searchResult && \r\n            <>\r\n              {searchResult.length === 0 && <p>Looks like there were no matches :(</p>}\r\n              {searchResult.length > 0 &&\r\n                searchResult.map((drink) => {\r\n                  return (\r\n                    <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                      <DrinkCard drink={drink} />\r\n                    </Suspense>\r\n                  )\r\n                })\r\n              }\r\n            </>}\r\n          </div>\r\n          {searchResult && <Button variant='warning' onClick={clearSearch}>Clear Search</Button>}\r\n        </div>\r\n       \r\n\r\n        <div className='search-column'>\r\n          {!user &&\r\n            <p className='mb-2'>\r\n              Welcome to <strong className='header-title'>lemon drop recipes</strong>!\r\n              This page is for flavour enthusiasts. Check out our recipe collection for some quick inspiration, \r\n              or <Link to={\"/sign-up\"} className='p-link'>sign up</Link> to join our community of stirrers and shakers!\r\n              You'll be able to submit your own recipes, post comments, and save your favourites! 🌞\r\n            </p>\r\n          }\r\n          {user && <>\r\n            <p className='mb-2'>\r\n              Welcome to <strong className='header-title'>Lemon Drop Drinks</strong>!\r\n              Your home as a flavour enthusiast 🌞\r\n            </p>\r\n            {/* <p className='hide-on-collapse'><Link className='link-button' to={'/new-recipe'}>Post a recipe!</Link></p> */}\r\n          </>}\r\n\r\n          <div className='sort-search-container'>\r\n            <SortSelector searchResult={searchResult} setSearchResult={setSearchResult} />\r\n            <div className='show-on-collapse'>\r\n              <Button variant='success' onClick={handleShow}>Search<Icon.ArrowBarRight style={{fontSize: \"x-large\"}}/></Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='hide-on-collapse'>\r\n            <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n              clearSearch={clearSearch} />\r\n          </div>\r\n\r\n          <Offcanvas placement='end' show={show} onHide={handleClose}>\r\n            <Offcanvas.Header closeButton />\r\n            <Offcanvas.Body>\r\n              <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n                clearSearch={clearSearch} />\r\n            </Offcanvas.Body>\r\n          </Offcanvas>\r\n          \r\n        </div>\r\n      </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useEffect } from 'react'\r\nimport '../css/launch&nav.css';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction LaunchPage() {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const test = document.getElementById(\"lemon\");\r\n    const title = document.getElementById(\"title\");\r\n    setTimeout(() => {\r\n      test.classList.add(\"stage2\");\r\n    }, 500);\r\n    setTimeout(() => {\r\n      title.classList.add(\"stage2\");\r\n    }, 1000);\r\n    setTimeout(() => {\r\n      test.classList.add(\"stage3\");\r\n      title.classList.add(\"stage3\");\r\n    }, 3500)\r\n    setTimeout(() => {\r\n      navigate(\"/home\")\r\n    }, 4500)\r\n  }, [])\r\n\r\n  return (\r\n    <div className='set-page'>\r\n      <div className='container'>\r\n        <img id='lemon' src=\"https://res.cloudinary.com/cocktail-recipes/image/upload/v1666457159/assets/lemon_wnjxh9.png\" \r\n          alt='Lemon Drop'\r\n          title='Lemon Drop' \r\n          className='stage1'/>\r\n        <h1 id='title' className='stage1 header-title'>lemon drop recipes</h1>\r\n      </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default LaunchPage","import React, { useState } from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\n\r\nfunction PasswordInput({ handleChanges, PWinvalid, styling, textStyling, placeholder }) {\r\n  const [passwordVisibility, setPasswordVisibility] = useState(\"password\");\r\n  const [showOrHide, setShowOrHide] = useState(\"Show\");\r\n\r\n  const passwordToggle = () => {\r\n    if (passwordVisibility === \"password\") {\r\n      setPasswordVisibility(\"text\");\r\n      setShowOrHide(\"Hide\")\r\n    } else {\r\n      setPasswordVisibility(\"password\");\r\n      setShowOrHide(\"Show\")\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <InputGroup hasValidation style={styling}>\r\n        <Form.Control type={passwordVisibility} name=\"password\" placeholder={placeholder} onChange={handleChanges} \r\n          isInvalid={PWinvalid} autoComplete={\"off\"} required/>\r\n        <Button onClick={passwordToggle} variant=\"outline-success\" id=\"button-addon2\">\r\n        {showOrHide}\r\n        </Button>\r\n        <Form.Control.Feedback type=\"invalid\" >\r\n          Password must be at least 6 characters, include at least one number, and mix capital and lowercase letters.\r\n        </Form.Control.Feedback>\r\n      </InputGroup>\r\n      {!PWinvalid && \r\n        <Form.Text muted style={textStyling}>Password must be at least 6 characters, include at least one number, and mix capital and lowercase letters.</Form.Text>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PasswordInput","import React, { useContext, useState } from 'react'\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport { passwordValidation } from '../utils/JSFunctions';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport PasswordInput from '../components/PasswordInput';\r\n\r\nfunction Login() {\r\n\r\n  const { login, logout, user } = useContext(AuthContext);\r\n  const [inputInfo, setInputInfo] = useState({});\r\n  const [PWinvalid, setPWinvalid] = useState(false);\r\n\r\n\r\n  const handleChanges = (e) => {\r\n    setInputInfo({ ...inputInfo, [e.target.name]: e.target.value });\r\n    setPWinvalid(false);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    const validPassword = passwordValidation(inputInfo.password);\r\n    if (validPassword) {\r\n      e.preventDefault();\r\n      login(inputInfo);\r\n    } else {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 className='page-title'>Login</h1>\r\n      {!user &&\r\n        <Form name=\"loginForm\" onSubmit={handleSubmit} className='simple-display'>\r\n\r\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Enter your email address\" style={{width: \"80%\"}} >\r\n            <Form.Control type=\"email\" name=\"email\" placeholder=\"name@example.com\" onChange={handleChanges} required/>\r\n          </FloatingLabel>\r\n\r\n          <PasswordInput handleChanges={handleChanges} PWinvalid={PWinvalid} styling={{width: \"80%\"}} textStyling={{width: \"80%\", marginTop: \"-0.8em\"}} placeholder={\"Password\"} />\r\n\r\n          <Button size=\"lg\" variant=\"success\" type=\"submit\">Login</Button>\r\n\r\n          <p>Not signed up yet? <Link to={'/sign-up'} replace={true}>Sign up</Link>!</p>\r\n\r\n        </Form>\r\n      }\r\n      {user && \r\n        <div className='simple-display'>\r\n          <p className='text-center'><strong>{user.username}</strong> is already logged in.</p>\r\n          <Button size=\"lg\" variant=\"success\" onClick={logout}>Logout?</Button>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport { formatProfileImage500px } from '../utils/JSFunctions'\r\n\r\nfunction UserPlainView({ userToView, display }) {\r\n  const formattedPicture = formatProfileImage500px(userToView.profile_picture.url);\r\n  const date = new Date(userToView.createdAt).toDateString().substring(4);\r\n\r\n  return (\r\n\r\n    <>\r\n      <img  style={{border: \"solid 1px rgba(0,0,0,0.3)\", borderRadius: \"50%\", maxWidth: \"100%\"}} src={formattedPicture} alt={`${userToView.username}'s profile`}/>\r\n\r\n      <div className='plain-user-info' style={ display }>\r\n        <h5>{userToView.username}</h5>\r\n\r\n        {userToView.email && \r\n          <div className='d-flex gap-2'>\r\n            <h6 className='account-mini-title'>Email: </h6>\r\n            <h6 className='sub-title'>{userToView.email}</h6>\r\n          </div>\r\n        }\r\n        \r\n\r\n        <div className='d-flex gap-2'>\r\n          <h6 className='account-mini-title'>User since: </h6>\r\n          <h6 className='sub-title'>{date}</h6>\r\n        </div>\r\n\r\n        <div className='d-flex gap-2'>\r\n          <h6 className='account-mini-title'>Recipes posted: </h6>\r\n          <h6 className='sub-title'>{userToView.posted_recipes.length}</h6>\r\n        </div>\r\n\r\n        {userToView.description !== \"\" && \r\n          <div>\r\n            <h6 className='account-mini-title'>Description: </h6>\r\n            <p>{userToView.description}</p>\r\n          </div>\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserPlainView","import React, { useContext, useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport getToken from '../utils/getToken'\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { emailValidation, passwordValidation } from '../utils/JSFunctions';\r\nimport { deleteImage, uploadImage } from '../utils/imageMangement';\r\nimport PasswordInput from './PasswordInput';\r\nimport PageLoader from './PageLoader';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport UserPlainView from './UserPlainView';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction MyAccount({ loading, setLoading }) {\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [inputs, setInputs] = useState(\"none\");\r\n  const [hideOnEdit, setHideOnEdit] = useState(\"block\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPWinvalid, setNewPWinvalid] = useState(false);\r\n  const [oldPWinvalid, setOldPWinvalid] = useState(false);\r\n  const [desc, setDesc] = useState(\"\");\r\n\r\n  const handleEditSwitch = () => {\r\n    if (editMode) {\r\n      setEditMode(false);\r\n    } else {\r\n      setEditMode(true);\r\n      setUsername(user.username);\r\n      setEmail(user.email);\r\n      setDesc(user.description);\r\n    }\r\n  }\r\n\r\n  const editModeToggle = () => {\r\n    if (editMode) {\r\n      setInputs(\"flex\");\r\n      setHideOnEdit(\"none\");\r\n    } else {\r\n      setInputs(\"none\");\r\n      setHideOnEdit(\"flex\");\r\n    }\r\n  }\r\n\r\n  const handleUsernameChange = (e) => {\r\n    setUsername(e.target.value);\r\n  }\r\n\r\n  const handleUsernameClick = async() => {\r\n    const trimmed = username.trim()\r\n    if (trimmed === \"\") {\r\n      alert(\"Username can't be nothing.\")\r\n    } else if (user.username === trimmed) {\r\n      alert(trimmed + \" is already your username.\")\r\n    } else {\r\n      if (window.confirm(\"Are you sure you want to change your username from \" + user.username + \" to \" + trimmed + \"?\")) {\r\n        setLoading(true);\r\n        await updateUser({ username: trimmed });\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n\r\n  const handleEmailClick = async() => {\r\n    if (!emailValidation(email)) {\r\n      alert(\"Invalid email format. Please try again.\")\r\n    } else if (user.email === email) {\r\n      alert(email + \" is already your registered email.\")\r\n    } else {\r\n      if (window.confirm(\"Are you sure you want to change your email from \" + user.email + \" to \" + email + \"?\")) {\r\n        setLoading(true);\r\n        await updateUser({ email: email });\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFileAttach = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  }\r\n\r\n  const handleFileClick = async() => {\r\n    if (!selectedFile && !user.profile_picture.public_id) {\r\n      alert(\"Your display picture is already set to default.\")\r\n    }\r\n    else if (!selectedFile && user.profile_picture.public_id) {\r\n      if (window.confirm(\"There is no file selected. This will return your display picture back to default. Is that ok?\")) {\r\n        setLoading(true);\r\n        await deleteImage(user.profile_picture);\r\n        updateUser(\r\n          {profile_picture: {\r\n          url: \"http://res.cloudinary.com/cocktail-recipes/image/upload/v1664980716/user_avatars/g7imx82ggre6lljzqb0r.png\",\r\n          public_id: null\r\n          }});\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      if (window.confirm(\"You're sure you want to update your display picture?\")) {\r\n        setLoading(true);\r\n        if (user.profile_picture.public_id) {\r\n          await deleteImage(user.profile_picture);\r\n        }\r\n        const image = await uploadImage(selectedFile, baseURL + \"/api/users/upload-image\");\r\n        updateUser({ profile_picture: image });\r\n        setSelectedFile(null);\r\n        const fileInput = document.querySelector(\"input[name='profile_picture']\");\r\n        fileInput.value = \"\";\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleNewPWChange = (e) => {\r\n    setNewPassword(e.target.value);\r\n    setNewPWinvalid(false);\r\n  }\r\n\r\n  const handlePWClick = () => {\r\n    const validPassword = passwordValidation(newPassword);\r\n    if (validPassword) {\r\n      setShowModal(true);\r\n    } else {\r\n      setNewPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  const handleOldPWChange = (e) => {\r\n    setOldPassword(e.target.value);\r\n    setOldPWinvalid(false);\r\n  }\r\n\r\n  const handleOldPWClick = async() => {\r\n    const validPassword = passwordValidation(oldPassword);\r\n    if (validPassword) {\r\n      setLoading(true);\r\n      try {\r\n        const result = await verifyAndUpdatePassword(oldPassword, newPassword);\r\n        if (result.error) {\r\n          setLoading(false);\r\n          return alert(result.error)\r\n        } else {\r\n          setLoading(false);\r\n          alert(result)\r\n          setShowModal(false);\r\n          const pwInput = document.querySelector(\"input[name='password']\");\r\n          pwInput.value = \"\";\r\n        }\r\n      } catch(error) {\r\n        console.log(\"error: \", error)\r\n      }\r\n    } else {\r\n      setOldPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  const verifyAndUpdatePassword = async() => {\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        const reqBody = JSON.stringify({\r\n          old_password: oldPassword,\r\n          new_password: newPassword\r\n        });\r\n        const reqOptions = {\r\n          method: \"POST\",\r\n          headers: myHeaders,\r\n          body: reqBody\r\n        }\r\n        const response = await fetch(baseURL + \"/api/users/verify-password\", reqOptions);\r\n        const result = await response.json();\r\n        return result\r\n      } catch(error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDescChange = (e) => {\r\n    setDesc(e.target.value);\r\n  }\r\n\r\n  const handleDescClick = async() => {\r\n    const trimmed = desc.trim();\r\n    console.log(trimmed);\r\n    let message = \"\";\r\n    if (trimmed === \"\") {\r\n      message = \"Your description is blank. Is this correct?\"\r\n    } else {\r\n      message = \"Are you sure you'd like to update your description?\"\r\n    }\r\n    if (window.confirm(message)) {\r\n      setLoading(true);\r\n      await updateUser({ description: trimmed });\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const updateUser = async (item) => {\r\n    const token = getToken();\r\n    if (token) {\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      const toUpdate = JSON.stringify(item);\r\n      const reqOptions = {\r\n        method: 'PATCH',\r\n        headers: myHeaders,\r\n        body: toUpdate\r\n      }\r\n      const response = await fetch(baseURL + \"/api/users/update-user\", reqOptions);\r\n      const result = await response.json();\r\n      setUser(result);\r\n    } else {\r\n      console.log(\"no token\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    editModeToggle();\r\n  }, [editMode])\r\n  \r\n  const inputDisplay = {\r\n    display: inputs,\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  }\r\n\r\n  const plainDisplay = {\r\n    display: hideOnEdit,\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user && \r\n        <div className='simple-display'>\r\n          {loading && <PageLoader />}\r\n\r\n          <div className='d-flex gap-2'>\r\n            <h4 className='sub-title'>Account Details</h4>\r\n            <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant='warning' title=\"Edit Account Details\" \r\n              onClick={handleEditSwitch}>\r\n              <Icon.PencilSquare style={{fontSize: \"large\"}}/>\r\n            </Button>\r\n          </div>\r\n\r\n          <UserPlainView userToView={user} display={plainDisplay} />\r\n          <Button variant=\"warning\" onClick={handleEditSwitch} style={plainDisplay}>Edit Mode</Button>\r\n\r\n          <div style={inputDisplay}>\r\n          <h5>{user.username}</h5>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>\r\n                  <Form.Group controlId=\"formFile\">\r\n                    <Form.Label>Choose a new display picture:</Form.Label>\r\n                    <Form.Control type=\"file\" name=\"profile_picture\" onChange={handleFileAttach} />\r\n                  </Form.Group>\r\n                </td>\r\n                <td style={{verticalAlign: \"bottom\"}}>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant='warning' title=\"Change Profile Picture\" \r\n                    onClick={handleFileClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <FloatingLabel controlId=\"floatingInputUsername\" label=\"Edit username\">\r\n                    <Form.Control type=\"username\" name=\"username\" placeholder=\"Username\" value={username} \r\n                      onChange={handleUsernameChange}/>\r\n                  </FloatingLabel>\r\n                </td>\r\n                <td>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Username\"\r\n                    onClick={handleUsernameClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <FloatingLabel controlId=\"floatingInputEmail\" label=\"Edit email address\" style={inputDisplay} >\r\n                    <Form.Control type=\"email\" name=\"email\" placeholder=\"name@example.com\" value={email} \r\n                      onChange={handleEmailChange} />\r\n                  </FloatingLabel>\r\n                </td>\r\n                <td>\r\n                <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Email Address\" \r\n                  onClick={handleEmailClick}>\r\n                    <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <form>\r\n                    <PasswordInput PWinvalid={newPWinvalid} placeholder={\"Enter new password\"} textStyling={{marginTop: \"-0.8em\"}} \r\n                      handleChanges={handleNewPWChange}/>\r\n                  </form>\r\n                 \r\n                </td>\r\n                <td style={{verticalAlign: \"top\"}}>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Password\" \r\n                    onClick={handlePWClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <Form.Control as=\"textarea\" rows={3} value={desc} onChange={handleDescChange}/>\r\n                </td>\r\n                <td>\r\n                  <Button style={{padding: \"0 0.3em\", paddingBottom: \"0.2em\"}} variant=\"warning\" title=\"Change Description\" \r\n                    onClick={handleDescClick}>\r\n                      <Icon.Pencil style={{fontSize: \"large\"}}/>\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan={2} style={{textAlign: \"center\"}} >\r\n                  <Button variant=\"success\" onClick={handleEditSwitch}>Leave edit mode</Button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          </div>\r\n          \r\n          <br/>\r\n          <br/>\r\n\r\n          <Modal show={showModal} onHide={() => {setShowModal(false)}}>\r\n            <Modal.Header closeButton />\r\n            <Modal.Body>\r\n              <p>Please enter your old password to verify this change:</p>\r\n              <PasswordInput handleChanges={handleOldPWChange} PWinvalid={oldPWinvalid} placeholder={\"Enter old password\"}/>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={() => {setShowModal(false)}}>\r\n                Close\r\n              </Button>\r\n              <Button variant=\"success\" onClick={handleOldPWClick}>\r\n                Enter and Save\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n          \r\n        </div>\r\n      }\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default MyAccount","import React, { Suspense, useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport DrinkCard from './DrinkCard.js';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport SortSelector from './SortSelector.js';\r\nimport PageLoader from './PageLoader.js';\r\nimport PlaceholderCard from './PlaceholderCard.js';\r\nimport Button from 'react-bootstrap/esm/Button.js';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport SearchForm from './SearchForm.js';\r\nimport Offcanvas from 'react-bootstrap/Offcanvas';\r\n\r\nfunction UserRecipes({ userToView, filter }) {\r\n  const { user } = useContext(AuthContext);\r\n  const { recipesList, sort, loading, error } = useContext(RecipesContext);\r\n  const [userList, setUserList] = useState([]);\r\n  const [searchInput, setSearchInput] = useState({ name: \"\", method: \"\", ingredient: \"\" });\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const submitSearch = (e) => {\r\n    e.preventDefault();\r\n    if (JSON.stringify(searchInput) !== JSON.stringify({ name: \"\", method: \"\", ingredient: \"\" })) {\r\n      const filterResult = userList.filter((e) => {\r\n        return (\r\n          e.name.toLowerCase().includes(searchInput.name.trim().toLowerCase())\r\n          && e.method.toLowerCase().includes(searchInput.method.trim().toLowerCase())\r\n          && e.ingredients.some(i => i.ingredient.toLowerCase().includes(searchInput.ingredient.trim().toLowerCase()))\r\n          )\r\n      })\r\n      setSearchResult(filterResult);\r\n      handleClose();\r\n    } else {\r\n      alert(\"You must fill in at least one search field\")\r\n    }\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    setSearchResult(null);\r\n    setSearchInput({ name: \"\", method: \"\", ingredient: \"\" });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (recipesList && filter === \"posted\") {\r\n      setUserList(recipesList.filter((recipe) => recipe.posted_by === userToView._id));\r\n    } else if (recipesList && filter === \"favourites\") {\r\n      setUserList(recipesList.filter((recipe) => recipe.favourited_by.includes(userToView._id)));\r\n    }\r\n  }, [recipesList, sort]);\r\n  \r\n  return (\r\n    <div className='page-grid-4-1'>\r\n    {loading && <PageLoader/>}\r\n    {userList.length === 0 && <p>Looks like there's no recipes :(</p>}\r\n    {error && <p>Something went wrong: {error}</p>}\r\n\r\n    <div className='d-flex flex-column align-items-center'>\r\n      <div className='cards-container mb-3'>\r\n        {(userList && !searchResult) && <>\r\n          {userList.map((drink) => {\r\n            return (\r\n              <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                <DrinkCard drink={drink} />\r\n              </Suspense>\r\n            )\r\n          })}\r\n        </>}\r\n        {searchResult && \r\n        <>\r\n          {searchResult.length === 0 && <p>Looks like there were no matches :(</p>}\r\n          {searchResult.length > 0 &&\r\n            searchResult.map((drink) => {\r\n              return (\r\n                <Suspense key={drink._id} fallback={<PlaceholderCard/>}>\r\n                  <DrinkCard drink={drink} />\r\n                </Suspense>\r\n              )\r\n            })\r\n          }\r\n        </>}\r\n      </div>\r\n      {searchResult && <Button variant='warning' onClick={clearSearch}>Clear Search</Button>}\r\n    </div>\r\n   \r\n\r\n    <div className='search-column'>\r\n      {!user &&\r\n        <p className='mb-2'>\r\n          Welcome to <strong className='header-title'>Lemon Drop Drinks</strong>!\r\n          This page is for flavour enthusiasts. Check out our recipes below for some quick inspiration, \r\n          or <Link to={\"/sign-up\"} className='p-link'>sign up</Link> to join our community of stirrers and shakers!\r\n          You'll be able to submit your own recipes, post comments, and save your favourites! 🌞\r\n        </p>\r\n      }\r\n      {user && <>\r\n        <p className='mb-2'>\r\n          Welcome to <strong className='header-title'>Lemon Drop Drinks</strong>!\r\n          Your home as a flavour enthusiast 🌞\r\n        </p>\r\n      </>}\r\n\r\n      <div className='d-flex align-items-end justify-content-between gap-2'>\r\n        <SortSelector searchResult={searchResult} setSearchResult={setSearchResult} />\r\n        <span className='show-on-collapse'>\r\n        <Button variant='success' onClick={handleShow}>Search<Icon.ArrowBarRight style={{fontSize: \"x-large\"}}/></Button>\r\n        </span>\r\n      </div>\r\n\r\n      <div className='hide-on-collapse'>\r\n        <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n          clearSearch={clearSearch} />\r\n      </div>\r\n\r\n      <Offcanvas placement='end' show={show} onHide={handleClose}>\r\n        <Offcanvas.Header closeButton />\r\n        <Offcanvas.Body>\r\n          <SearchForm searchInput={searchInput} setSearchInput={setSearchInput} searchResult={searchResult} submitSearch={submitSearch}\r\n            clearSearch={clearSearch} />\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n      \r\n      \r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default UserRecipes","import React, { useContext, useEffect, useState } from 'react'\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport MyAccount from '../components/MyAccount';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport UserRecipes from '../components/UserRecipes';\r\nimport Fade from 'react-bootstrap/Fade';\r\n\r\nfunction MyProfile() {\r\n  const { user } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mount, setMount] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n}, [])\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n        <div style={{width: \"100%\"}}>\r\n          <Tabs\r\n            defaultActiveKey=\"account\"\r\n            id=\"uncontrolled-tab-example\"\r\n            className=\"mb-3\"\r\n            justify>\r\n\r\n            <Tab eventKey=\"account\" title=\"Account Details\">\r\n              <MyAccount loading={loading} setLoading={setLoading} />\r\n            </Tab>\r\n\r\n            <Tab eventKey=\"recipes\" title=\"My Recipes\" className='test'>\r\n              <UserRecipes userToView={user} filter={\"posted\"} />\r\n            </Tab>\r\n\r\n            <Tab eventKey=\"favourites\" title=\"My Favourites\">\r\n              <UserRecipes userToView={user} filter={\"favourites\"} />\r\n            </Tab>\r\n          </Tabs>\r\n        </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default MyProfile","import React, { useContext, useState } from 'react';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { passwordValidation } from '../utils/JSFunctions';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { deleteImage, signUpImageUpload } from '../utils/imageMangement';\r\nimport PasswordInput from '../components/PasswordInput';\r\nimport PageLoader from '../components/PageLoader';\r\n\r\nfunction SignUp() {\r\n  const { logout, user } = useContext(AuthContext);\r\n  const redirect = useNavigate();\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [inputInfo, setInputInfo] = useState({});\r\n  const [PWinvalid, setPWinvalid] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileAttach = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  }\r\n\r\n  const handleChanges = (e) => {\r\n    setInputInfo({ ...inputInfo, [e.target.name]: e.target.value});\r\n    setPWinvalid(false);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    const validPassword = passwordValidation(inputInfo.password);\r\n    if (validPassword) {\r\n      e.preventDefault();\r\n      const trimmed = inputInfo.username.trim()\r\n      if (trimmed === \"\") {\r\n        alert(\"Username can't be nothing\");\r\n      } else {\r\n        signUp();\r\n      }\r\n    } else {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setPWinvalid(true);\r\n    }\r\n  }\r\n\r\n  const signUp = async () => {\r\n    setLoading(true);\r\n    const image = await signUpImageUpload(selectedFile);\r\n    inputInfo.profile_picture = image; \r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    const newUser = JSON.stringify(inputInfo);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: newUser,\r\n    }\r\n    try {\r\n      const response = await fetch(\"http://baseURL + /api/users/sign-up\", reqOptions);\r\n      const result = await response.json();\r\n      console.log(result);\r\n      if (result.error) {\r\n        if (image.public_id) {\r\n          deleteImage(image)\r\n        }\r\n        alert(\"sign up error: \" + result.error);\r\n      } else {\r\n        alert(\"Successfully signed up! Please log in.\");\r\n        redirect(\"/login\", { replace: true });\r\n      }\r\n      setLoading(false);\r\n    } catch(error) {\r\n      alert(\"sign up error: \" + error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {loading && <PageLoader />}\r\n      <h1 className='page-title'>Sign Up!</h1>\r\n\r\n      {!user && \r\n        <Form name=\"signUpForm\" onSubmit={handleSubmit} className='simple-display'>\r\n          <FloatingLabel controlId=\"floatingInputEmail\" label=\"Enter your email address*\" style={{width: \"80%\"}} >\r\n            <Form.Control type=\"email\" name=\"email\" placeholder=\"name@example.com\" onChange={handleChanges} required/>\r\n          </FloatingLabel>\r\n\r\n          <FloatingLabel controlId=\"floatingInputUsername\" label=\"Choose a username*\" style={{width: \"80%\"}}>\r\n            <Form.Control type=\"username\" name=\"username\" placeholder=\"Username\" onChange={handleChanges} autoCorrect={false} required/>\r\n          </FloatingLabel>\r\n\r\n          <PasswordInput handleChanges={handleChanges} PWinvalid={PWinvalid} styling={{width: \"80%\"}} \r\n            textStyling={{width: \"80%\", marginTop: \"-0.8em\"}} placeholder={\"Password*\"} />\r\n          \r\n          <Form.Group controlId=\"formFile\" style={{width: \"80%\"}}>\r\n            <Form.Label>Choose a display picture:</Form.Label>\r\n            <Form.Control type=\"file\" name=\"profile_picture\" onChange={handleFileAttach} />\r\n            <Form.Text muted>You can also do this later from your profile page</Form.Text>\r\n          </Form.Group>\r\n\r\n          <p style={{width: \"80%\", textAlign: \"right\", margin: 0}}>*required</p>\r\n\r\n          <Button size=\"lg\" variant=\"success\" type=\"submit\">Sign up</Button>\r\n          <p>Already have an account? <Link to={'/login'} replace={true}>Login</Link>!</p>\r\n        </Form>\r\n      }\r\n\r\n      {user && \r\n        <div className='simple-display'>\r\n          <p className='text-center'><strong>{user.username}</strong> is already logged in.</p>\r\n          <Button size=\"lg\" variant=\"success\" onClick={logout}>Logout?</Button>\r\n        </div>\r\n      }\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp","import React from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nfunction RecipeForm({ \r\n  setSelectedFile,\r\n  name,\r\n  setName,\r\n  method,\r\n  setMethod,\r\n  ingredientsList,\r\n  setIngredientsList,\r\n  stepsList,\r\n  setStepsList,\r\n  handleSubmit }) {\r\n\r\n  const handleFileAttach = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  }\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const handleMethodChange = (e) => {\r\n    setMethod(e.target.value);\r\n  }\r\n\r\n  const handleIngredientChange = (e, i) => {\r\n    const { name, value } = e.target;\r\n    const list = [...ingredientsList];\r\n    list[i][name] = value;\r\n    setIngredientsList(list);\r\n  }\r\n\r\n  const handleIngredientRemove = (i) => {\r\n    const list = [...ingredientsList];\r\n    list.splice(i, 1);\r\n    setIngredientsList(list);\r\n  }\r\n\r\n  const handleAddIngredient = () => {\r\n    setIngredientsList([...ingredientsList, { ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n  }\r\n\r\n  const handleStepsChange = (e, i) => {\r\n    const { value } = e.target;\r\n    const list = [...stepsList];\r\n    list[i] = value;\r\n    setStepsList(list);\r\n  }\r\n\r\n  const handleStepsRemove = (i) => {\r\n    const list = [...stepsList];\r\n    list.splice(i, 1);\r\n    setStepsList(list);\r\n  }\r\n\r\n  const handleAddStep = () => {\r\n    setStepsList([...stepsList, \"\"]);\r\n  }\r\n\r\n  return (\r\n    <Form id='recipe-form' className='d-flex flex-column' style={{border: \"solid 1px rgba(0,0,0,0.3)\", borderRadius: \"0.3em\", padding: \"1em\"}} \r\n      onSubmit={handleSubmit}>\r\n\r\n        <Form.Group>\r\n          <Form.Label className='new-rec-label'>Drink Name:</Form.Label>\r\n          <Form.Control name='name' placeholder=\"Enter a name for your drink\" spellCheck=\"false\" value={name} onChange={handleNameChange} required/>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group >\r\n          <Form.Label className='new-rec-label'>Method:</Form.Label>\r\n          <Form.Control name='method' placeholder=\"Enter the preparation method\" value={method} onChange={handleMethodChange} required/>\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <Form.Group controlId=\"formFile\">\r\n          <Form.Label className='new-rec-label'>Upload an image:</Form.Label>\r\n          <Form.Control type=\"file\" name=\"image\" onChange={handleFileAttach} />\r\n        </Form.Group>\r\n\r\n        <hr/>\r\n\r\n        <div>\r\n          <Form.Label className='new-rec-label'>Ingredients:</Form.Label>\r\n          <p style={{marginBottom: \"0.3em\"}}>\r\n            Enter the ingredients used in your recipe. Include the name of the ingredient, the quantity, \r\n            and which measurement system you're using (eg. ml, dash, parts, etc.)\r\n          </p>\r\n          {ingredientsList.map((input, i) => {\r\n            return (\r\n              <div key={\"ingredientInput\" + i} className='box'>\r\n                <label className='new-rec-label'>Ingredient{i + 1}</label>\r\n                <input name='ingredient' value={input.ingredient} placeholder='Ingredient name'\r\n                  onChange={(e) => handleIngredientChange(e, i)} required/>\r\n                <input name='quantity' value={input.quantity} type={\"number\"} placeholder='?'\r\n                  onChange={(e) => handleIngredientChange(e, i)} required/>\r\n                <input name='measure' value={input.measure} placeholder='Measure'\r\n                  onChange={(e) => handleIngredientChange(e, i)} required/>\r\n                {ingredientsList.length > 1 && <Button variant='danger' style={{alignSelf: \"flex-end\"}}\r\n                  onClick={() => handleIngredientRemove(i)} >Remove</Button>}\r\n              </div>\r\n            );\r\n          })}\r\n          <Button variant='success' onClick={handleAddIngredient}>Add Ingredient</Button>\r\n        </div>\r\n\r\n        <hr/>\r\n\r\n        <div>\r\n          <Form.Label className='new-rec-label'>Recipe instructions:</Form.Label>\r\n          <p style={{marginBottom: \"0.3em\"}}>\r\n            Explain step by step how to prepare your drink.\r\n          </p>\r\n          {stepsList.map((input, i) => {\r\n            return (\r\n              <div key={\"stepsInput\" + i} className='box'>\r\n                <label className='new-rec-label'>Step{i + 1}</label>\r\n                <textarea name='step' value={input} placeholder='Write instructions here' style={{width: \"100%\"}}\r\n                  onChange={(e) => handleStepsChange(e, i)} required/>\r\n                {stepsList.length > 1 && <Button variant='danger' style={{alignSelf: \"flex-end\"}}\r\n                  onClick={() => handleStepsRemove(i)} >Remove</Button>}\r\n              </div>\r\n            );\r\n          })}\r\n          <Button variant='success' onClick={handleAddStep}>Add Step</Button>\r\n        </div>\r\n\r\n        <hr/>\r\n\r\n        <Button variant='success' type='submit'>Submit</Button>\r\n\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default RecipeForm","import React, { useContext, useEffect, useState } from 'react'\r\nimport { deleteImage, recipeImageUpload } from '../utils/imageMangement';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport getToken from '../utils/getToken';\r\nimport PageLoader from '../components/PageLoader';\r\nimport RecipeForm from '../components/RecipeForm';\r\nimport Fade from 'react-bootstrap/Fade';\r\n\r\nfunction NewRecipe() {\r\n\r\n  const { recipesList, setRecipesList } = useContext(RecipesContext);\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const [ingredientsList, setIngredientsList] = useState([{ ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n  const [stepsList, setStepsList] = useState([\"\"]);\r\n  const [name, setName] = useState(\"\");\r\n  const [method, setMethod] = useState(\"\");\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [mount, setMount] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n  }, [])\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const token = getToken();\r\n    if (token) {\r\n      const image = await recipeImageUpload(selectedFile);\r\n      if (!image.error) {\r\n        const recipeObject = { \r\n          name: name,\r\n          method: method,\r\n          ingredients: ingredientsList, \r\n          instructions: stepsList, \r\n          image: image,\r\n        };\r\n        try {\r\n          const myHeaders = new Headers();\r\n          myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n          myHeaders.append(\"Content-Type\", \"application/json\");\r\n          const toSubmit = JSON.stringify(recipeObject);\r\n          const reqOptions = {\r\n            method: \"POST\",\r\n            headers: myHeaders,\r\n            body: toSubmit,\r\n          }\r\n          const response = await fetch(\"http://baseURL + /api/recipes/new-recipe\", reqOptions);\r\n          const result = await response.json();\r\n          if (!result.error) {\r\n            resetForm();\r\n            setRecipesList([result].concat(recipesList));\r\n            user.posted_recipes.push(result._id);\r\n            setUser(user);\r\n            setLoading(false);\r\n            alert(\"Recipe added to the collection!\")\r\n          } else {\r\n            if (image.public_id) {\r\n              deleteImage(image);\r\n            }\r\n            setLoading(false);\r\n            alert(\"Something went wrong adding recipe to collection: \" + result.error)\r\n          }\r\n        } catch (error) {\r\n          if (image.public_id) {\r\n            deleteImage(image);\r\n          }\r\n          setLoading(false);\r\n          alert(\"Something went wrong adding recipe to collection: \" + error)\r\n        }\r\n      } else {\r\n        setLoading(false);\r\n        alert(\"Error uploading image\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function resetForm() {\r\n    setIngredientsList([{ ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n    setStepsList([\"\"]);\r\n    setName(\"\");\r\n    setMethod(\"\");\r\n    setSelectedFile(null);\r\n    const recipeForm = document.getElementById('recipe-form');\r\n    recipeForm.reset();\r\n  }\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <div className='simple-display'>\r\n        {loading && <PageLoader/>}\r\n        <h1 className='page-title'>New Recipe</h1>\r\n        <div style={{textAlign: \"center\", background: \"rgba(148,211,51,0.3)\", color: \"#1b8f47\", padding: \"0.5em\", borderRadius: \"1em\", width: \"80%\"}}>\r\n          <q>I've come up with a new recipeeh!</q> - Ignis Scientia\r\n        </div>\r\n\r\n        <RecipeForm setSelectedFile={setSelectedFile} name={name} setName={setName} method={method} setMethod={setMethod} ingredientsList={ingredientsList} \r\n          setIngredientsList={setIngredientsList} stepsList={stepsList} setStepsList={setStepsList} handleSubmit={handleSubmit} />\r\n\r\n      </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default NewRecipe","import { useEffect, useState } from 'react'\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction useRecipeFetch(id) {\r\n  const [recipe, setRecipe] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [comments, setComments] = useState([]);\r\n\r\n  const getRecipe = async() => {\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/recipes/recipe/\" + id);\r\n      const result = await response.json();\r\n      if (result.name) {\r\n        setRecipe(result);\r\n        setComments(result.comments);\r\n      } else {\r\n        setRecipe({ error: \"Recipe not found\" })\r\n      }\r\n      setLoading(false);\r\n    } catch(error) {\r\n      setError(error)\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n      getRecipe();\r\n      console.log(recipe);\r\n  }, [id]);\r\n\r\n  return ({ recipe, comments, setComments, loading, setLoading, error })\r\n}\r\n\r\nexport default useRecipeFetch","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { formatImageThumb } from '../utils/JSFunctions'\r\n\r\nfunction SeeUserLink({ user }) {\r\n  const formattedPicture = formatImageThumb(user.profile_picture.url);\r\n\r\n  return (\r\n    <Link className='d-flex gap-2' style={{ textDecoration: \"none\" }}\r\n    to={'/view-user/' + user._id} >\r\n      <img src={formattedPicture} alt=\"Recipe Author\" className='thumbnail-image'/>\r\n      <h5 className='account-mini-title'>{user.username}</h5>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default SeeUserLink","import React, { useContext } from 'react'\r\nimport getToken from '../utils/getToken';\r\nimport Card from 'react-bootstrap/Card';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport SeeUserLink from './SeeUserLink';\r\nimport { baseURL } from '../utils/getServerURL';\r\n\r\nfunction CommentCard({ comment, comments, setComments, recipe }) {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const deleteComment = async() => {\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        const body = JSON.stringify({ comment: comment, recipePoster: recipe.posted_by });\r\n        const reqOptions = {\r\n          method: \"PATCH\",\r\n          headers: myHeaders,\r\n          body: body\r\n        }\r\n        const response = await fetch(baseURL + \"/api/recipes/delete-comment/\" + recipe._id, reqOptions);\r\n        const result = await response.json();\r\n        console.log(result);\r\n        setComments(comments.filter((item) => item._id !== comment._id));\r\n      } catch(error) {\r\n        console.log(error);\r\n        alert(\"It clings to existence. Try again?\")\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <Card style={{ width: '100%' }} className='mb-3'>\r\n    <Card.Body>\r\n      <Card.Title style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\r\n        <SeeUserLink user={ comment.posted_by } />\r\n        {user && <>\r\n          {(user._id === comment.posted_by._id || user._id === recipe.posted_by._id) && \r\n            <Button variant=\"danger\" size=\"sm\" onClick={deleteComment}>\r\n              <Icon.Trash title='Delete Recipe' style={{fontSize: \"large\"}}/>\r\n            </Button>}\r\n        </>}\r\n      </Card.Title>\r\n      <Card.Subtitle className=\"mb-2 text-muted\">\r\n        { formatDistanceToNow(new Date(comment.createdAt), { addSuffix: true }) }\r\n      </Card.Subtitle>\r\n      <Card.Text>\r\n        {comment.comment}\r\n      </Card.Text>\r\n    </Card.Body>\r\n  </Card>\r\n\r\n  )\r\n}\r\n\r\nexport default CommentCard","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport useRecipeFetch from '../hooks/useRecipeFetch';\r\nimport PageLoader from '../components/PageLoader'\r\nimport CommentCard from '../components/CommentCard';\r\nimport getToken from '../utils/getToken';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport SeeUserLink from '../components/SeeUserLink';\r\nimport FavouriteButton from '../components/FavouriteButton';\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport Card from 'react-bootstrap/Card';\r\nimport DeleteButton from '../components/DeleteButton';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\nfunction ViewRecipe() {\r\n  const { user } = useContext(AuthContext);\r\n  const [mount, setMount] = useState(false);\r\n  const { _id } = useParams();\r\n  const { recipe, comments, setComments, loading, error } = useRecipeFetch(_id);\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  const handleTextChange = (e) => {\r\n    setCommentText(e.target.value);\r\n  }\r\n\r\n  const handleSubmitComment = async(e) => {\r\n    e.preventDefault();\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        const body = JSON.stringify({comment: commentText});\r\n        const reqOptions = {\r\n          method: \"POST\",\r\n          headers: myHeaders,\r\n          body: body\r\n        }\r\n        const response = await fetch(\"http://baseURL + /api/recipes/add-comment/\" + recipe._id, reqOptions);\r\n        const result = await response.json();\r\n        const newComment = result.comments[result.comments.length - 1];\r\n        setComments([...comments, { \r\n          comment: newComment.comment,\r\n          createdAt: newComment.createdAt,\r\n          updatedAt: newComment.updatedAt,\r\n          _id: newComment._id,\r\n          posted_by: {\r\n            username: user.username,\r\n            _id: user._id,\r\n            profile_picture: {\r\n              url: user.profile_picture.url\r\n            }\r\n          }\r\n         }]);\r\n        setCommentText(\"\");\r\n      } catch(error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setMount(true);\r\n  }, [])\r\n\r\n  return (\r\n    <Fade in={mount}>\r\n    <div className='simple-display'>\r\n      {loading && <PageLoader/>}\r\n      {error && <p>{error}</p>}\r\n      {recipe.error && <p>{recipe.error}</p>}\r\n      {(!error && recipe.name) &&\r\n        <>\r\n          <Card style={{maxWidth: \"800px\"}}>\r\n            <Card.Header className='d-flex align-items-center justify-content-between'>\r\n              <Card.Title className='header-title text-center'>\r\n                {recipe.name}\r\n              </Card.Title>\r\n              {(user && user._id !== recipe.posted_by._id) && \r\n                <FavouriteButton recipe={recipe} includeCount={true}/>\r\n              }\r\n              {user && (user._id === recipe.posted_by._id) &&\r\n                <span>\r\n                  <Link to={'/update-recipe'} className='edit-link' state={{ recipe: recipe }} style={{marginRight: \"0.5em\"}}>\r\n                    <Icon.Pencil style={{fontSize: \"large\"}} title='Edit Recipe' />\r\n                  </Link>\r\n                  <DeleteButton toDelete={recipe} redirect={true} />\r\n                </span>\r\n              }\r\n            </Card.Header>\r\n\r\n            <Card.Img src={recipe.image.url} alt={recipe.name}/>\r\n\r\n            <Card.Header className='d-flex flex-wrap justify-content-center justify-content-sm-between align-items-center gap-3'>\r\n              <div>\r\n                <SeeUserLink user={ recipe.posted_by }  />\r\n              </div>\r\n              <div className='d-flex flex-column align-items-end'>\r\n                <Card.Subtitle className='text-muted text-right mb-2'>Originally posted: { new Date(recipe.createdAt).toDateString().substring(4) }</Card.Subtitle>\r\n                <Card.Subtitle className='text-muted text-right'>Last updated: { formatDistanceToNow(new Date(recipe.createdAt), { addSuffix: true }) }</Card.Subtitle>\r\n              </div>\r\n            </Card.Header>\r\n\r\n            <Card.Body className='d-flex flex-column'>\r\n\r\n              <Card.Title>Method:</Card.Title>\r\n              <Card.Text>{recipe.method}</Card.Text>\r\n             \r\n              <Card.Title>Ingredients:</Card.Title>\r\n              <ul>\r\n                {recipe.ingredients.map((ingredient) => {\r\n                  return <li key={ingredient._id}>{ingredient.quantity} {ingredient.measure} {ingredient.ingredient}</li>\r\n                })}\r\n              </ul>\r\n\r\n              <Card.Title>Instructions:</Card.Title>\r\n              <ol style={{maxWidth: \"100%\"}}>\r\n                {recipe.instructions.map((step, i) => {\r\n                  return <li key={\"step\"+i}>{step}</li>\r\n                })}\r\n              </ol>\r\n\r\n              <span className='align-self-end'>\r\n                <Icon.HeartFill style={{fontSize: \"large\", color: \"#DE4940\"}}/> Favourited {recipe.favourited_by.length} times\r\n              </span>\r\n\r\n              <Card.Title>Comments:</Card.Title>\r\n              {comments.length === 0 && <p style={{textAlign: \"center\"}}>No comments yet :( </p>}\r\n              {comments.length > 0 && comments.map((comment) => {\r\n                return <CommentCard key={comment._id} comment={comment} comments={comments} setComments={setComments} recipe={recipe} />\r\n              })}\r\n\r\n              <hr/>\r\n\r\n              {user && \r\n                <Form onSubmit={handleSubmitComment}>\r\n                  <Form.Label className='sub-title'>Leave a comment: </Form.Label>\r\n                  <Form.Control className='mb-3' as=\"textarea\" rows={3} value={commentText} onChange={handleTextChange}/>\r\n                  <Button variant='success' type='submit'>Post comment</Button>\r\n                </Form>\r\n              }\r\n              {!user && \r\n                <Form>\r\n                  <Form.Label className='sub-title'>Leave a comment: </Form.Label>\r\n                  <Form.Control className='mb-3' as=\"textarea\" rows={3} placeholder='Only logged-in users can leave comments.' disabled/>\r\n                  <Button disabled variant='success' type='submit'>Post comment</Button>\r\n                </Form>\r\n              }\r\n\r\n            </Card.Body>\r\n\r\n            \r\n          </Card>\r\n        </>}\r\n\r\n      \r\n      \r\n    </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default ViewRecipe","import { useEffect, useState } from 'react'\r\n\r\nfunction useSingleUserFetch(id) {\r\n  const [userToView, setUserToView] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchById = async() => {\r\n    setLoading(true);\r\n    try{\r\n      const response = await fetch(\"http://baseURL + /api/users/user/\" + id);\r\n      const result = await response.json();\r\n      if (result.username) {\r\n        setUserToView(result);\r\n      } else {\r\n        setUserToView({ error: \"User not found\" });\r\n      }\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n      alert(\"Problem retrieving user account: \" + error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchById();\r\n  }, [id])\r\n  \r\n\r\n  return ({ userToView, loading, error })\r\n}\r\n\r\nexport default useSingleUserFetch","import React, { useContext, useEffect, useState } from 'react'\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport UserPlainView from '../components/UserPlainView';\r\nimport UserRecipes from '../components/UserRecipes';\r\nimport useSingleUserFetch from '../hooks/useSingleUserFetch';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport Fade from 'react-bootstrap/Fade';\r\nimport PageLoader from '../components/PageLoader';\r\n\r\nfunction ViewUser() {\r\n  const redirect = useNavigate();\r\n  const { user } = useContext(AuthContext);\r\n  const { _id } = useParams();\r\n  const { userToView, loading, error } = useSingleUserFetch(_id);\r\n  const [mount, setMount] = useState(false);\r\n\r\n  const plainDisplay = {\r\n    display: \"flex\"\r\n  }\r\n\r\n  function profileRedirect() {\r\n    if (user && (_id === user._id)) {\r\n          redirect(\"/my-profile\", {replace: true});\r\n        }\r\n  }\r\n  useEffect(() => {\r\n    profileRedirect();\r\n    setMount(true);\r\n  }, [])\r\n \r\n\r\n  return (\r\n    <Fade in={mount}>\r\n      <div className='simple-display p-0'>\r\n        {loading && <PageLoader />}\r\n        {userToView.error && <p>{userToView.error}</p>}\r\n        {error && <p>Something went wrong: {error}</p>}\r\n        {(!error && userToView.username) && <>\r\n          <h1 className='page-title'>{userToView.username}'s Profile</h1>\r\n          <div style={{width: \"100%\"}}>\r\n            <Tabs\r\n              defaultActiveKey=\"account\"\r\n              id=\"uncontrolled-tab-example\"\r\n              className=\"mb-3\"\r\n              justify>\r\n\r\n              <Tab eventKey=\"account\" title=\"Account\">\r\n                <h4 className='sub-title' style={{textAlign: \"center\"}}>Account Details</h4>\r\n                <div className='simple-display'>\r\n                  <UserPlainView userToView={userToView} display={plainDisplay} />\r\n                </div>\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"recipes\" title=\"Recipes\" className='test'>\r\n                <UserRecipes userToView={userToView} filter={\"posted\"} />\r\n              </Tab>\r\n\r\n              <Tab eventKey=\"favourites\" title=\"Favourites\">\r\n              <UserRecipes userToView={userToView} filter={\"favourites\"} />\r\n              </Tab>\r\n            </Tabs>\r\n          </div>\r\n        </>}\r\n      </div>\r\n    </Fade>\r\n    \r\n  )\r\n}\r\n\r\nexport default ViewUser","import React, { useContext, useEffect, useState } from 'react'\r\nimport { useLocation } from 'react-router-dom';\r\nimport PageLoader from '../components/PageLoader';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport RecipeForm from '../components/RecipeForm';\r\nimport getToken from '../utils/getToken';\r\nimport { deleteImage, recipeUpdateImage } from '../utils/imageMangement';\r\n\r\nfunction UpdateRecipe() {\r\n  const [loading, setLoading] = useState(true);\r\n  const location = useLocation();\r\n  const { recipe } = location.state;\r\n   \r\n  const [ingredientsList, setIngredientsList] = useState([{ ingredient: \"\", quantity: 0, measure: \"\" }]);\r\n  const [stepsList, setStepsList] = useState([\"\"]);\r\n  const [name, setName] = useState(\"\");\r\n  const [method, setMethod] = useState(\"\");\r\n  const { recipesList, setRecipesList } = useContext(RecipesContext);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n     setIngredientsList(recipe.ingredients);\r\n     setStepsList(recipe.instructions);\r\n     setName(recipe.name);\r\n     setMethod(recipe.method);\r\n     setLoading(false);\r\n  }, [])\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        const image = await recipeUpdateImage(selectedFile, recipe.image);\r\n        if (!image.error) {\r\n          const recipeObject = { \r\n            name: name,\r\n            method: method,\r\n            ingredients: ingredientsList, \r\n            instructions: stepsList, \r\n            image: image,\r\n          };\r\n          try {\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            const toSubmit = JSON.stringify(recipeObject);\r\n            const reqOptions = {\r\n              method: \"PATCH\",\r\n              headers: myHeaders,\r\n              body: toSubmit\r\n            }\r\n            const response = await fetch(\"http://baseURL + /api/recipes/update-recipe/\" + recipe._id, reqOptions);\r\n            const result = await response.json();\r\n            if (!result.error) {\r\n              if (selectedFile && recipe.image.public_id) {\r\n                await deleteImage(recipe.image);\r\n              }\r\n              const updateList = recipesList.filter((item) => item._id !== result._id);\r\n              setRecipesList([result].concat(updateList));\r\n              setLoading(false);\r\n              alert(\"Recipe updated!\")\r\n            }\r\n          } catch (error) {\r\n            setLoading(false);\r\n            alert(\"Error updating recipe: \" + error);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        setLoading(false);\r\n        alert(\"Error uploading image: \" + error);\r\n      }\r\n    } else {\r\n      alert(\"No user token?\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='simple-display'>\r\n      {loading && <PageLoader/>}\r\n      <h1 className='page-title'>Edit Recipe</h1>\r\n      {recipe && \r\n        <RecipeForm setSelectedFile={setSelectedFile} name={name} setName={setName} method={method} setMethod={setMethod} ingredientsList={ingredientsList} \r\n          setIngredientsList={setIngredientsList} stepsList={stepsList} setStepsList={setStepsList} handleSubmit={handleSubmit} />\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateRecipe","import React from 'react'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\n\r\nfunction ReturnToTop() {\r\n\r\n  function scrollFunction() {\r\n    const button = document.getElementById(\"scroll-button\");\r\n    if (document.body.scrollTop > 120 || document.documentElement.scrollTop > 120) {\r\n      button.style.display = \"block\";\r\n    } else {\r\n      button.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  window.onscroll = () => scrollFunction();\r\n\r\n  const topFunction = () => {\r\n    document.body.scrollTop = 0;\r\n    document.documentElement.scrollTop = 0;\r\n  }\r\n\r\n  return (\r\n    <Button variant='warning' id='scroll-button' title='Return to the top' onClick={topFunction}>\r\n      <Icon.ArrowUp style={{ fontSize: \"x-large\", color: \"white\" }} />\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default ReturnToTop","import React from 'react';\nimport { Route, Routes } from \"react-router-dom\";\nimport NavBar from './components/NavBar';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Home from './views/Home';\nimport LaunchPage from './views/LaunchPage';\nimport Login from './views/Login';\nimport MyProfile from './views/MyProfile';\nimport SignUp from './views/SignUp';\nimport NewRecipe from './views/NewRecipe';\nimport ViewRecipe from './views/ViewRecipe';\nimport ViewUser from './views/ViewUser';\nimport UpdateRecipe from './views/UpdateRecipe';\nimport ReturnToTop from './components/ReturnToTop';\n\nfunction App() {\n  return (\n    <>\n      <NavBar />\n      <ReturnToTop />\n      <Routes>\n        <Route path='*' element={ <LaunchPage/> } />\n        <Route path='/' element={ <LaunchPage/> } />\n        <Route path='/home' element={ <Home/> } />\n        <Route path='/login' element={ <Login/> } />\n        <Route path='/sign-up' element={ <SignUp/> } />\n        <Route path='/my-profile' element={ <ProtectedRoute> <MyProfile/> </ProtectedRoute> } />\n        <Route path='/new-recipe' element={ <ProtectedRoute> <NewRecipe/> </ProtectedRoute> } />\n        <Route path='/update-recipe' element={ <ProtectedRoute> <UpdateRecipe/> </ProtectedRoute> } />\n        <Route path='/view-recipe/:_id' element={ <ViewRecipe/> } />\n        <Route path='/view-user/:_id' element={ <ViewUser/> } />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './css/index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { AuthContextProvider } from './context/AuthContext';\nimport { RecipesContextProvider } from './context/RecipesContext';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <AuthContextProvider>\n        <RecipesContextProvider>\n          <App />\n        </RecipesContextProvider>\n      </AuthContextProvider>\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { baseURL } from '../utils/getServerURL.js';\r\nimport getToken from '../utils/getToken.js';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const redirect = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  \r\n  const checkForUser = () => {\r\n    const token = getToken();\r\n    if (token) {\r\n      console.log(\"User logged in\");\r\n      getUser(token);\r\n    } else {\r\n      console.log(\"User NOT logged in\");\r\n      setUser(null);\r\n    }\r\n  }\r\n\r\n  const getUser = async (token) => {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    const reqOptions = {\r\n      method: \"GET\",\r\n      headers: myHeaders\r\n    };\r\n    try {\r\n      const response = await fetch(baseURL + \"/api/users/my-profile\", reqOptions);\r\n      const result = await response.json();\r\n      setUser(result);\r\n    } catch(error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  const login = async (inputInfo) => {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    const userLogin = JSON.stringify(inputInfo);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: userLogin,\r\n    };\r\n    try {\r\n      const response = await fetch(\r\n        baseURL + \"/api/users/login\",\r\n        reqOptions\r\n      );\r\n      const result = await response.json();\r\n      if (result.error) {\r\n        console.log(result);\r\n        alert(\"Login error: \" + result.error);\r\n        return\r\n      }\r\n      if (result.token) {\r\n        localStorage.setItem(\"token\", result.token);\r\n        setUser(result.user);\r\n        alert(result.user.username + \" has successfully logged in!\");\r\n        redirect(\"/home\", {replace: true});\r\n      }\r\n    } catch (error) {\r\n      alert(\"Login error: \", error)\r\n    }\r\n  }\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    checkForUser();\r\n    alert(user.username + \" has been logged out.\")\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkForUser();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser, checkForUser, login, logout }}>\r\n      { props.children }\r\n    </AuthContext.Provider>\r\n  )\r\n}","\r\nfunction passwordValidation (string) {\r\n    const numbers = /[0-9]/g;\r\n    const lowerCase = /[a-z]/g;\r\n    const upperCase = /[A-Z]/g;\r\n    if (string.length > 5 && string.match(numbers) && string.match(lowerCase) && string.match(upperCase)) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n}\r\n\r\nfunction emailValidation (string) {\r\n  if (/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(.\\w{2,3})+$/.test(string)) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nfunction displayNicely(string) {\r\n  let final = \"\";\r\n  let trimmed = string.trim();\r\n  for (let i = 0; i < trimmed.length; i++) {\r\n      if (i === 0 || trimmed.charAt(i - 1) === \" \") {\r\n          final += trimmed.charAt(i).toUpperCase();\r\n      } else {\r\n          final += trimmed.charAt(i);\r\n      }\r\n  } return final;\r\n}\r\n\r\nfunction formatImage500px (imageURL) {\r\n  const result = sliceImageURL(imageURL, \"w_500,h_500,c_fill/\");\r\n  return result\r\n}\r\n\r\nfunction formatProfileImage500px (imageURL) {\r\n  const result = sliceImageURL(imageURL, \"w_500,h_500,c_fill,g_faces,r_max/\");\r\n  return result\r\n}\r\n\r\nfunction formatImageThumb (imageURL) {\r\n  const result = sliceImageURL(imageURL, \"c_thumb,w_30,h_30,c_fill,g_faces,r_max/\");\r\n  return result\r\n}\r\n\r\nfunction sliceImageURL (imageURL, insert) {\r\n  const uploadIndex = imageURL.indexOf(\"upload/\") + 7;\r\n  const result = imageURL.slice(0, uploadIndex) + insert + imageURL.slice(uploadIndex);\r\n  return result\r\n}\r\n\r\nfunction checkIf (ID, array) {\r\n  let result = false;\r\n  for (let i = 0; i < array.length; i++) {\r\n    if (array[i].toString() === ID) {\r\n      result = true;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction resetSubArray(array, comparisonId) {\r\n  const index = array.findIndex( e => e === comparisonId );\r\n  array.splice(index, 1);\r\n  return array\r\n}\r\n\r\nexport { passwordValidation, emailValidation, displayNicely, checkIf, resetSubArray,\r\n   formatImage500px, formatImageThumb, formatProfileImage500px }","const getToken = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    return token;\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default getToken","import React from 'react'\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nfunction PageLoader() {\r\n  const setPage = {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"rgba(255,225,225,0.6)\",\r\n    zIndex: 2\r\n  }\r\n  \r\n  const container = {\r\n    position: \"fixed\",\r\n    left: \"50%\",\r\n    top: \"50%\"\r\n  }\r\n  return (\r\n    <div style={setPage}>\r\n      <div style={container} className='fine'>\r\n        <Spinner animation=\"border\" role=\"status\" variant=\"warning\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </Spinner>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default PageLoader","import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { AuthContext } from '../context/AuthContext.js';\r\nimport { baseURL } from '../utils/getServerURL.js';\r\nimport getToken from '../utils/getToken';\r\nimport { deleteImage } from '../utils/imageMangement';\r\nimport { resetSubArray } from '../utils/JSFunctions.js';\r\n\r\nexport const RecipesContext = createContext();\r\n\r\nexport const RecipesContextProvider = (props) => {\r\n  const [recipesList, setRecipesList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [sort, setSort] = useState(\"\");\r\n  const { user, setUser } = useContext(AuthContext);\r\n\r\n  const fetchAllRecipes = async () => {\r\n    try{\r\n      const response = await fetch(baseURL + \"/api/recipes/\")\r\n      const data = await response.json()\r\n      setRecipesList(data);\r\n      setSort(\"newest\");\r\n      setLoading(false); \r\n    } catch (error) {\r\n      setError(error);\r\n    }\r\n  }\r\n\r\n  const deleteRecipe = async (id) => {\r\n    const token = getToken();\r\n    if (token) {\r\n      const myHeaders = new Headers();\r\n      myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n      myHeaders.append(\"Content-Type\", \"application/json\");\r\n      const toSubmit = JSON.stringify({ _id: id });\r\n      const reqOptions = {\r\n        method: \"DELETE\",\r\n        headers: myHeaders,\r\n        body: toSubmit\r\n      }\r\n      try {\r\n        const response = await fetch(baseURL + \"/api/recipes/delete-recipe\", reqOptions);\r\n        const result = response.json();\r\n        return result;\r\n      } catch (error) {\r\n        return ({ error: error });\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDeleteRecipe = async (drink) => {\r\n    if (window.confirm(\"You're sure you want to delete this recipe? This is cannot be undone.\")) {\r\n      try {\r\n        const deleted = await deleteRecipe(drink._id);\r\n        setRecipesList(recipesList.filter(e => e._id !== drink._id));\r\n        resetSubArray(user.posted_recipes, drink._id);\r\n        setUser(user);\r\n        if (drink.image.public_id) {\r\n          try {\r\n            await deleteImage(drink.image);\r\n          } catch (error) {\r\n            console.log(\"Recipe deleted, but problem deleting image: \", error);\r\n          }\r\n        }\r\n        alert(deleted.msg);\r\n      } catch (error) {\r\n        alert(\"Something went wrong: \" + error);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchAllRecipes();\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <RecipesContext.Provider value={{ recipesList, setRecipesList, deleteRecipe, handleDeleteRecipe, loading, error, sort, setSort }}>\r\n      { props.children }\r\n    </RecipesContext.Provider>\r\n  )\r\n}","import getToken from \"./getToken\";\r\n\r\nconst deleteImage = async (image) => {\r\n  const token = getToken();\r\n  if (token) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n    const imageData = JSON.stringify(image);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: imageData\r\n    };\r\n    try {\r\n      const response = await fetch(\"http://baseURL + /api/users/delete-image\", reqOptions);\r\n      const result = await response.json();\r\n      console.log(result);\r\n    } catch(error) {\r\n      alert(\"error deleting image: \", error);\r\n    }\r\n  }\r\n}\r\n\r\nconst uploadImage = async (file, url) => {\r\n  const token = getToken();\r\n  if (token) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: formData\r\n    };\r\n    try {\r\n      const response = await fetch(url, reqOptions);\r\n      const result = await response.json();\r\n      return result\r\n    } catch (error) {\r\n      alert(\"image upload error: \", error)\r\n    }\r\n  }\r\n}\r\n\r\nconst recipeImageUpload = async (selectedFile) => {\r\n  if (!selectedFile) {\r\n    return {\r\n      url: \"https://res.cloudinary.com/cocktail-recipes/image/upload/v1665673309/recipe_images/yz2fbyzppludsz99ibrq.png\",\r\n      public_id: null\r\n    }\r\n  } else {\r\n    try {\r\n      const image = await uploadImage(selectedFile, \"http://baseURL + /api/recipes/upload-image\")\r\n      return image\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    \r\n  }\r\n}\r\n\r\nconst recipeUpdateImage = async (selectedFile, original) => {\r\n  if (!selectedFile) {\r\n    return original\r\n  } else {\r\n    try {\r\n      const image = await uploadImage(selectedFile, \"http://baseURL + /api/recipes/upload-image\")\r\n      return image\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nconst signUpImageUpload = async (selectedFile) => {\r\n  if (!selectedFile) {\r\n    return {\r\n      url: \"http://res.cloudinary.com/cocktail-recipes/image/upload/v1664980716/user_avatars/g7imx82ggre6lljzqb0r.png\",\r\n      public_id: null\r\n    }\r\n  } else {\r\n    try {\r\n      const image = await uploadImage(selectedFile, \"http://baseURL + /api/users/upload-image\")\r\n      return image\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n}\r\n\r\nexport { uploadImage, deleteImage, signUpImageUpload, recipeImageUpload, recipeUpdateImage }","export const baseURL = process.env.NODE_ENV === 'development' ? 'http://localhost:5000/' : process.env.REACT_APP_BACKENDURL","import React, { useContext, useState } from 'react'\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport PageLoader from './PageLoader.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction DeleteButton({toDelete, redirect}) {\r\n  const { handleDeleteRecipe } = useContext(RecipesContext);\r\n  const [loading, setLoading] = useState(false);\r\n  const redirectOnDelete = useNavigate();\r\n\r\n  const redirectHome = async() => {\r\n    redirectOnDelete(\"/home\", {replace: true});\r\n  }\r\n  \r\n  const handleClick = () => {\r\n    setLoading(true);\r\n    handleDeleteRecipe(toDelete);\r\n    setLoading(false);\r\n    if (redirect) {\r\n      redirectHome();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading && <PageLoader />}\r\n      <Button variant=\"danger\" size=\"sm\" onClick={handleClick}>\r\n        <Icon.Trash title='Delete Recipe' style={{fontSize: \"large\"}}/>\r\n      </Button>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default DeleteButton","import getToken from \"./getToken\";\r\n\r\nconst addFavourite = async(recipe) => {\r\n  const token = getToken();\r\n  if (token) {\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n    const reqOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n    }\r\n    try {\r\n      const response = await fetch(\"http://baseURL + /api/recipes/add-favourite/\" + recipe._id, reqOptions);\r\n      const result= await response.json();\r\n      console.log(result);\r\n    } catch(error) {\r\n      alert(\"Problem adding favourite: \" + error)\r\n    }\r\n  }\r\n}\r\n\r\nconst removeFavourite = async(recipe) => {\r\n  const token = getToken();\r\n  const myHeaders = new Headers();\r\n  myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n  const reqOptions = {\r\n    method: \"PATCH\",\r\n    headers: myHeaders\r\n  }\r\n  try {\r\n    const response = await fetch(\"http://baseURL + /api/recipes/delete-favourite/\" + recipe._id, reqOptions);\r\n    const result = await response.json();\r\n    console.log(result);\r\n  } catch (error) {\r\n    alert(\"Problem deleting favourite: \" + error);\r\n  }\r\n}\r\n\r\nexport { addFavourite, removeFavourite }","import React, { useContext, useEffect, useState } from 'react'\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport Button from 'react-bootstrap/esm/Button.js';\r\nimport { AuthContext } from '../context/AuthContext.js'\r\nimport { RecipesContext } from '../context/RecipesContext.js'\r\nimport { addFavourite, removeFavourite } from '../utils/favouritesManagement.js';\r\nimport { checkIf, resetSubArray } from '../utils/JSFunctions.js';\r\n\r\nfunction FavouriteButton({ recipe }) {\r\n\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const { recipesList, setRecipesList } = useContext(RecipesContext);\r\n  const [poster, setPoster] = useState(false);\r\n  const [alreadyFavourite, setAlreadyFavourite] = useState(false);\r\n  const [favCount, setFavCount] = useState(recipe.favourited_by.length);\r\n\r\n  const handleAddFav = async() => {\r\n    if (!poster && !alreadyFavourite) {\r\n      try {\r\n        addFavourite(recipe);\r\n        setAlreadyFavourite(true);\r\n        setFavCount(prev => prev + 1);\r\n        const thisRecipeIndex = recipesList.findIndex( item => item._id === recipe._id);\r\n        recipesList[thisRecipeIndex].favourited_by.push(user._id);\r\n        setRecipesList(recipesList); \r\n        user.favourite_recipes.push(recipe._id);\r\n        setUser(user);\r\n      } catch(error) {\r\n        alert(\"Problem adding favourite: \" + error)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleRemoveFav = async() => {\r\n    if (alreadyFavourite) {\r\n      try {\r\n        await removeFavourite(recipe);\r\n        setAlreadyFavourite(false);\r\n        setFavCount(prev => prev - 1);\r\n        const thisRecipeIndex = recipesList.findIndex( item => item._id === recipe._id);\r\n        resetSubArray(recipesList[thisRecipeIndex].favourited_by, user._id);\r\n        setRecipesList(recipesList);\r\n        resetSubArray(user.favourite_recipes, recipe._id);\r\n        setUser(user);\r\n      } catch (error) {\r\n        alert(\"Problem deleting favourite: \" + error);\r\n      }\r\n    } \r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setPoster(checkIf(recipe._id, user.posted_recipes));\r\n      setAlreadyFavourite(checkIf(recipe._id, user.favourite_recipes));\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {(user && !poster) && \r\n        <>\r\n          {alreadyFavourite && \r\n            <Button className='fav-hover' variant='light' title=\"Remove from favourites\" onClick={handleRemoveFav}>\r\n              <Icon.HeartFill style={{fontSize: \"large\", color: \"#DE4940\"}}/> x {favCount}\r\n            </Button>\r\n          }\r\n          {!alreadyFavourite && \r\n            <Button className='fav-hover' variant='light' title=\"Add to favourites\" onClick={handleAddFav}>\r\n                <Icon.Heart style={{fontSize: \"large\", color: \"#DE4940\"}}/>  x {favCount}\r\n            </Button>\r\n            }\r\n        </>\r\n      }\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default FavouriteButton"],"sourceRoot":""}